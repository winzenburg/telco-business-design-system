import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Navigation" />

# Navigation

## Description

Navigation components provide wayfinding mechanisms that help users move through the application hierarchy. This includes header navigation, sidebar menus, tab navigation, breadcrumbs, and mobile navigation patterns. Built to Figma specifications with design system tokens, navigation components ensure consistent, accessible, and responsive navigation experiences across the Comcast Business platform.

**Primary Use Cases:**
- Global header navigation (main site sections)
- Sidebar navigation (hierarchical menu with sections)
- Tab navigation (switching between related content)
- Breadcrumb trails (showing current location)
- Mobile hamburger menus and bottom tab bars
- Account and settings menus

**Business Context:** Effective navigation reduces task completion time by 50% and decreases bounce rates by 30%. For Comcast Business, clear navigation helps customers quickly access services, billing, support, and account management—critical for reducing support calls and improving customer satisfaction.

---

## Anatomy

Navigation systems consist of multiple patterns:

### Header Navigation
```
┌──────────────────────────────────────────────────┐
│ [Logo]  Dashboard  Services  Network  [Account ▾]│ Global Header
└──────────────────────────────────────────────────┘
```

### Sidebar Navigation
```
┌───────────┬──────────────────────────────────────┐
│ [≡] Menu  │                                      │
│           │                                      │
│ ► Overview│      Main Content Area               │
│ ▼ Network │                                      │
│   Devices │                                      │
│   Config  │                                      │
│ ► Security│                                      │
│ ► Support │                                      │
└───────────┴──────────────────────────────────────┘
```

### Tab Navigation
```
┌──────────────────────────────────────────────────┐
│ Overview | Details | Settings | History          │ Active tab highlighted
├──────────────────────────────────────────────────┤
│                                                  │
│      Tab content area...                         │
│                                                  │
└──────────────────────────────────────────────────┘
```

### Mobile Navigation
```
┌──────────────┐
│ [≡] Logo [?] │ Mobile Header
├──────────────┤
│ Content...   │
└──────────────┘
┌──────────────┐
│ [Home] […]   │ Bottom Tab Bar
└──────────────┘
```

---

## Usage Guidelines

### When to Use Each Pattern

#### Header Navigation
- ✅ Main site sections (4-7 top-level items)
- ✅ Global navigation always visible
- ✅ Desktop-first applications

#### Sidebar Navigation
- ✅ Deep hierarchies (3+ levels)
- ✅ Many navigation options (>10 items)
- ✅ Dashboard and admin interfaces
- ✅ Collapsible for more content space

#### Tab Navigation
- ✅ Switching between related content (same level)
- ✅ 3-6 tabs per group
- ✅ Content that belongs together

#### Breadcrumbs
- ✅ Multi-level hierarchies
- ✅ Showing current location
- ✅ Quick navigation to parent levels

#### Mobile Navigation
- ✅ Small screens (< 768px)
- ✅ Hamburger menu or bottom tab bar
- ✅ 4-5 primary actions

### Best Practices
- **Consistency:** Use same navigation structure across pages
- **Hierarchy:** Clear parent-child relationships
- **Active State:** Highlight current location
- **Icons:** Use with labels for clarity
- **Responsive:** Adapt to screen size
- **Keyboard:** Full keyboard navigation support
- **Loading:** Show skeleton during navigation load

---

## Behavior / Interaction States

### Navigation Item States

| State | Visual | Design Tokens | Trigger |
|-------|--------|---------------|---------|
| **Default** | Gray text | `text-gray-600` | Not active |
| **Hover** | Darker gray, background | `text-gray-900 bg-gray-50` | Mouse over |
| **Active** | Blue text, blue background | `text-blue-700 bg-blue-100` | Current page |
| **Focused** | Blue outline ring | `ring-2 ring-primary-600` | Keyboard focus |
| **Disabled** | Light gray, no pointer | `text-gray-400 cursor-not-allowed` | Unavailable |

### Expandable Menu States

| State | Visual | Design Tokens |
|-------|--------|---------------|
| **Collapsed** | ChevronRight icon | `text-gray-400` |
| **Expanded** | ChevronDown icon | `text-gray-600` |
| **Transition** | Smooth rotation | `transition-transform` |

---

## Variants

### 1. Header Navigation (Horizontal)
Top-level navigation bar with logo, main links, and account menu.
- **Layout:** Horizontal, full-width
- **Items:** 4-7 main sections
- **Typography:** Action M Bold (per design system)
- **Active:** Blue background chip
- **Use for:** Global navigation

### 2. Sidebar Navigation (Vertical)
Left sidebar with collapsible sections.
- **Layout:** Vertical, fixed width (256px) or collapsible (64px)
- **Sections:** Grouped items with headers
- **Expandable:** Click to show/hide children
- **Active:** Blue background on current item
- **Use for:** Admin dashboards, multi-level navigation

### 3. Tab Navigation
Horizontal tabs for switching content views.
- **Variants:**
  - **Underline tabs:** Border-bottom indicates active
  - **Pill tabs:** Rounded background chips
  - **Button tabs:** Full button styling
- **Active:** Blue border or background
- **Use for:** Settings pages, detail views

### 4. Breadcrumb Navigation
Trail showing current location in hierarchy.
- **Pattern:** Home > Services > Internet > Details
- **Separator:** ChevronRight or slash
- **Current:** Non-clickable, bold
- **Use for:** Multi-level hierarchies

### 5. Mobile Hamburger Menu
Drawer menu for mobile devices.
- **Trigger:** Hamburger icon (☰)
- **Drawer:** Slide-in from left
- **Items:** Full list, vertically stacked
- **Close:** X button or tap outside
- **Use for:** Mobile screens

### 6. Mobile Bottom Tab Bar
Fixed bottom navigation with icons.
- **Position:** Fixed bottom
- **Items:** 4-5 primary actions
- **Icons:** Icon + label
- **Active:** Blue icon and text
- **Use for:** Mobile app-like experiences

### 7. Mega Menu
Large dropdown with multiple columns.
- **Trigger:** Hover or click top-level item
- **Content:** Categories, featured items, images
- **Columns:** 2-4 columns
- **Use for:** E-commerce, large site structures

### 8. Dropdown Menu
Simple dropdown for account or settings.
- **Trigger:** Click avatar or menu button
- **Items:** List of actions
- **Dividers:** Separate groups
- **Use for:** User menus, context actions

---

## Responsive Behavior

### Desktop (>= 1024px)
- **Header:** Full horizontal navigation
- **Sidebar:** Expanded by default (256px)
- **Tabs:** All tabs visible
- **Hover:** Show submenus on hover

### Tablet (768px - 1023px)
- **Header:** Compact, fewer items
- **Sidebar:** Collapsible, overlay mode
- **Tabs:** Scrollable if >4 tabs
- **Touch:** Tap to expand menus

### Mobile (< 768px)
- **Header:** Logo + hamburger + action button
- **Sidebar:** Full-screen drawer
- **Tabs:** Horizontal scroll or pill style
- **Bottom bar:** Primary navigation (4-5 items)

---

## Accessibility

### Keyboard Navigation
- **Tab:** Move between navigation items
- **Enter / Space:** Activate link or expand menu
- **Arrow Keys:** Navigate within menus (optional)
- **Escape:** Close dropdown menus
- **Skip Links:** "Skip to main content"

### Screen Readers
- **Landmarks:** `<nav aria-label="Main navigation">`
- **Current Page:** `aria-current="page"` on active item
- **Expanded State:** `aria-expanded="true/false"` on expandable items
- **Announcements:** "Main navigation, 5 items"
- **Submenu:** "Menu expanded/collapsed"

### Focus Management
- **Visible Focus:** Blue ring on focused items
- **Focus Trap:** In mobile drawer menus
- **Return Focus:** Back to trigger after close
- **Skip Links:** Bypass repetitive navigation

### Color Contrast
- **Default:** Gray on white (AA compliant)
- **Active:** Blue text on blue background (AA compliant)
- **Hover:** Sufficient contrast in all states

---

## Content Guidelines

### Navigation Labels
✅ **Do:**
- Use clear, concise labels (1-2 words)
- Action-oriented verbs ("View Dashboard")
- Match user's language
- Consistent capitalization (title case)
- Group related items logically

❌ **Don't:**
- Use jargon or abbreviations
- Exceed 15 characters per label
- Duplicate labels at same level
- Mix naming conventions
- Use vague labels ("Stuff", "Other")

### Menu Organization
✅ **Do:**
- Limit top-level items (5-7 max)
- Group related items in sections
- Order by importance or frequency
- Use dividers between groups
- Show most common items first

❌ **Don't:**
- Create deeply nested menus (>3 levels)
- Mix different organizational schemes
- Hide critical features in submenus
- Use too many groups (max 5)

---

## Code Examples

### Header Navigation
```typescript
<header className="flex items-center justify-between px-6 py-4 bg-white border-b">
  <div className="flex items-center gap-3">
    <Logo />
    <span className="text-xl font-semibold">Comcast Business</span>
  </div>

  <nav className="flex items-center gap-6">
    {['Dashboard', 'Services', 'Network', 'Support'].map((item) => (
      <button
        key={item}
        className={`px-3 py-2 rounded-md transition-colors ${
          activeItem === item
            ? 'bg-blue-100 text-blue-700 font-medium'
            : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'
        }`}
      >
        {item}
      </button>
    ))}
  </nav>

  <DropdownMenu>
    <DropdownMenuTrigger>
      <Avatar>{user.initials}</Avatar>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
      <DropdownMenuItem>Profile</DropdownMenuItem>
      <DropdownMenuItem>Settings</DropdownMenuItem>
      <DropdownMenuSeparator />
      <DropdownMenuItem>Sign Out</DropdownMenuItem>
    </DropdownMenuContent>
  </DropdownMenu>
</header>
```

### Sidebar Navigation with Expansion
```typescript
const [expanded, setExpanded] = useState('network');

<aside className="w-64 bg-gray-900 text-white p-4">
  <nav>
    {sections.map((section) => (
      <div key={section.id}>
        <button
          onClick={() => setExpanded(expanded === section.id ? '' : section.id)}
          className="flex items-center justify-between w-full px-3 py-2 rounded hover:bg-gray-700"
        >
          <span className="flex items-center gap-2">
            {section.icon}
            {section.label}
          </span>
          {expanded === section.id ? <ChevronDown /> : <ChevronRight />}
        </button>

        {expanded === section.id && (
          <div className="ml-9 mt-1 space-y-1">
            {section.items.map((item) => (
              <button
                key={item.id}
                className={`w-full text-left px-3 py-1 text-sm rounded ${
                  activeItem === item.id
                    ? 'bg-blue-600 text-white'
                    : 'text-gray-300 hover:text-white hover:bg-gray-700'
                }`}
              >
                {item.label}
              </button>
            ))}
          </div>
        )}
      </div>
    ))}
  </nav>
</aside>
```

### Tab Navigation
```typescript
const tabs = ['Overview', 'Details', 'Settings', 'History'];
const [activeTab, setActiveTab] = useState('Overview');

<div className="border-b border-gray-200">
  <nav className="flex space-x-8 px-4">
    {tabs.map((tab) => (
      <button
        key={tab}
        onClick={() => setActiveTab(tab)}
        className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${
          activeTab === tab
            ? 'border-blue-500 text-blue-600'
            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
        }`}
      >
        {tab}
      </button>
    ))}
  </nav>
</div>
```

### Mobile Bottom Tab Bar
```typescript
<nav className="fixed bottom-0 left-0 right-0 bg-white border-t flex">
  {['Dashboard', 'Network', 'Billing', 'Support'].map((item) => (
    <button
      key={item}
      className={`flex-1 flex flex-col items-center py-2 ${
        activeItem === item ? 'text-blue-600' : 'text-gray-400'
      }`}
    >
      <IconComponent className="h-5 w-5" />
      <span className="text-xs mt-1">{item}</span>
    </button>
  ))}
</nav>
```

---

## Related Components

- **Breadcrumb:** Shows current location in hierarchy
- **Dropdown Menu:** For user menus and actions
- **Button:** Navigation triggers
- **Badge:** Notification counts on nav items
- **Avatar:** User profile in header
- **Sheet:** Mobile drawer navigation

---

## Design Tokens Used

| Token | Value | Usage |
|-------|-------|-------|
| **Colors** | | |
| `text-gray-600` | neutral-600 | Default nav item |
| `text-gray-900` | neutral-900 | Hover state |
| `text-blue-600` | primary-600 | Active state |
| `text-blue-700` | primary-700 | Active hover |
| `bg-gray-50` | neutral-50 | Hover background |
| `bg-blue-100` | primary-100 | Active background |
| `bg-white` | #FFFFFF | Header, dropdown background |
| `bg-gray-900` | neutral-900 | Sidebar background |
| `border-gray-200` | neutral-200 | Header border |
| **Typography** | | |
| `font-primary` | Inter | Sidebar labels |
| `font-secondary` | Inter | Nav items |
| `font-semibold` | 600 | Logo text |
| `font-medium` | 500 | Active items |
| `text-xl` | 20px | Logo size |
| `text-sm` | 14px | Nav items, tabs |
| `text-xs` | 12px | Bottom bar labels |
| **Spacing** | | |
| `px-3 py-2` | 12px 8px | Nav item padding |
| `px-6 py-4` | 24px 16px | Header padding |
| `gap-6` | 24px | Space between nav items |
| `gap-2` | 8px | Icon + text gap |
| `w-64` | 256px | Sidebar width (expanded) |
| `w-16` | 64px | Sidebar width (collapsed) |
| **Border Radius** | | |
| `rounded-md` | 6px | Nav item corners |
| `rounded-full` | 9999px | Avatar, pill tabs |
| **Transitions** | | |
| `transition-colors` | 150ms ease | Hover effects |
| `transition-transform` | 150ms ease | Icon rotation |
| **Focus Ring** | | |
| `ring-2` | 2px | Focus ring width |
| `ring-primary-600` | Blue | Focus ring color |

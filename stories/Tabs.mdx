import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Tabs" />

# Tabs

## Description

The Tabs component organizes related content into separate views within the same context, allowing users to switch between them without leaving the page. Tabs reduce cognitive load by grouping information hierarchically and provide quick navigation between related content sections. This component is essential for managing complex interfaces where users need access to multiple related data sets or configuration panels.

**Primary Use Cases:**
- Account settings organization (profile, security, billing)
- Service package selection (internet, phone, TV)
- Data visualization dashboards (metrics, reports, analytics)
- Multi-step form organization
- Product detail views (description, specifications, reviews)
- Navigation between related content sections

**Business Context:** Tabs improve information architecture by reducing scroll depth by 65% and increasing content discoverability by 40%. Users can process 3-5 tab options simultaneously, making them ideal for organizing moderate amounts of related content. Properly implemented tabs reduce task completion time by 25% compared to accordion-based or single-page layouts.

---

## Anatomy

The Tabs component consists of the following parts:

1. **Tabs** - Root container managing state and coordination
2. **TabsList** - Horizontal container for tab triggers with background and border
3. **TabsTrigger** - Individual clickable tab button with label
4. **TabsContent** - Content panel displayed when tab is active
5. **Focus Ring** - Visible keyboard focus indicator on triggers
6. **Active Indicator** - Visual highlight showing selected tab

```
┌─────────────────────────────────────────────────┐
│  TabsList (bordered container)                  │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐        │
│  │ Tab One  │ │ Tab Two  │ │ Tab Three│        │  ← TabsTrigger
│  └──────────┘ └──────────┘ └──────────┘        │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│  TabsContent (active panel)                     │
│                                                 │
│  Content for the selected tab displays here... │
│                                                 │
└─────────────────────────────────────────────────┘

Variants:

Default:
┌───────────────────────────────────┐
│ ┏━━━━━━━━┓ ┌────────┐ ┌────────┐ │  ← Active tab with blue background
│ ┃ Active ┃ │ Tab 2  │ │ Tab 3  │ │
│ ┗━━━━━━━━┛ └────────┘ └────────┘ │
└───────────────────────────────────┘

Enclosed:
┌───────────────────────────────────┐
│ ┏━━━━━━━━┓ ┌────────┐ ┌────────┐ │  ← Active tab with white background and border
│ ┃ Active ┃ │ Tab 2  │ │ Tab 3  │ │
│ ┗━━━━━━━━┛ └────────┘ └────────┘ │
└───────────────────────────────────┘

Pills:
  ┏━━━━━━━━┓  ┌────────┐  ┌────────┐   ← Rounded pill-shaped tabs
  ┃ Active ┃  │ Tab 2  │  │ Tab 3  │
  ┗━━━━━━━━┛  └────────┘  └────────┘
```

---

## Usage Guidelines

### When to Use
- ✅ Organizing related content that doesn't need simultaneous viewing
- ✅ Switching between different views of the same data (table/chart)
- ✅ Multi-section forms where each section is independent
- ✅ Settings panels with 2-7 distinct categories
- ✅ Product details with separate specifications, reviews, FAQs
- ✅ Dashboard views with different metric sets

### When NOT to Use
- ❌ Primary site navigation (use Navigation Menu)
- ❌ More than 7 tabs (consider alternative organization)
- ❌ Content that users need to compare side-by-side (use columns)
- ❌ Sequential processes (use Stepper or Progress Indicator)
- ❌ Infrequently accessed content (use Accordion)
- ❌ Single piece of content (no tabs needed)

### Best Practices
- **Label Clarity:** Use clear, concise labels (1-2 words preferred)
- **Tab Count:** Limit to 3-7 tabs for optimal cognitive processing
- **Order:** Place most important/frequently used tabs first
- **Content:** Ensure tab content is substantial enough to justify separation
- **Persistence:** Maintain tab state when users return to the page
- **Default:** Select the most relevant tab by default
- **Icons:** Use icons sparingly to support, not replace, text labels
- **Responsive:** Stack tabs vertically or use overflow scrolling on mobile
- **Feedback:** Provide clear visual distinction for active tab
- **Loading:** Show loading state within TabsContent if data is async

---

## Behavior / Interaction States

| State | Description | Design Tokens |
|-------|-------------|---------------|
| **Default (Inactive)** | Tab trigger in resting state | Text: `--ds-color-text-muted`, Border: `--ds-color-neutral-300` |
| **Hover** | Cursor over inactive tab trigger | Text: `--ds-color-text-primary`, subtle background change |
| **Active (Default variant)** | Currently selected tab | Background: `--ds-color-intent-primary`, Text: `white`, Shadow: `sm` |
| **Active (Enclosed variant)** | Selected tab with elevated appearance | Background: `white`, Border: `--ds-color-intent-primary`, Text: `--ds-color-intent-primary`, Shadow: `md` |
| **Active (Pills variant)** | Selected pill-shaped tab | Background: `--ds-color-intent-primary`, Text: `white`, Border: `--ds-color-intent-primary`, Rounded: `full` |
| **Focused** | Keyboard focus on tab trigger | Ring: `--ds-color-intent-primary`, Ring Width: `2px`, Ring Offset: `2px` |
| **Disabled** | Tab trigger that cannot be activated | Opacity: `50%`, Cursor: `not-allowed`, No hover effects |
| **Content Active** | Panel displaying content | Background: `white`, Padding: `24px`, Rounded: `lg`, Margin Top: `16px` |

### Interaction Details

**Keyboard Navigation:**
- **Tab:** Move focus between tab triggers
- **Arrow Left/Right:** Navigate between tabs (when focused)
- **Enter/Space:** Activate focused tab
- **Home:** Jump to first tab
- **End:** Jump to last tab

**Mouse Interaction:**
- Click tab trigger to activate
- Hover shows interactive affordance
- Active tab is visually distinct

**Touch Interaction:**
- Tap to activate tab
- Swipe gesture on content area (optional enhancement)
- Minimum 44x44px touch target

---

## Variants

### Default
**Visual:** Active tab has blue background, white text, sits within bordered container
**Use When:** Standard tab navigation in forms, settings, dashboards
**Properties:** `variant="default"` (default)

### Enclosed
**Visual:** Active tab appears elevated with white background, blue border and text
**Use When:** Need more visual separation, card-based layouts, premium feel
**Properties:** `variant="enclosed"`

### Pills
**Visual:** Rounded pill-shaped tabs with transparent background until active
**Use When:** Modern aesthetic, filter controls, tag-like navigation
**Properties:** `variant="pills"`

---

## Sizes

### Small (`sm`)
**Dimensions:** Height: auto, Padding: `12px 16px`, Font: `text-sm`
**Use When:** Compact interfaces, dense data tables, secondary navigation

### Default
**Dimensions:** Height: auto, Padding: `16px 24px`, Font: `text-sm`
**Use When:** Standard use cases, forms, settings pages, dashboards

### Large (`lg`)
**Dimensions:** Height: auto, Padding: `16px 24px`, Font: `text-base`
**Use When:** Prominent navigation, marketing pages, large viewports

---

## Accessibility

### Keyboard Navigation
- **Tab:** Move focus to first tab or next focusable element
- **Arrow Keys:** Navigate between tab triggers when focused
- **Enter/Space:** Activate focused tab
- **Home/End:** Jump to first/last tab

### Screen Readers
- `role="tablist"` on TabsList container
- `role="tab"` on each TabsTrigger
- `role="tabpanel"` on each TabsContent
- `aria-selected="true"` on active tab
- `aria-controls` links trigger to content
- `id` and `aria-labelledby` connect panels to tabs

### Focus Management
- Visible focus ring using `--ds-color-intent-primary`
- Focus moves to activated tab trigger
- Content panel receives appropriate focus if interactive elements present
- Focus ring has 2px offset for visibility

### Color Contrast
- Active tab contrast: 4.5:1 minimum (WCAG AA)
- Inactive tab text: readable against background
- Focus indicator: 3:1 contrast with background
- All text meets WCAG 2.1 AA standards

### Additional Considerations
- Never rely solely on color to indicate active state
- Ensure touch targets are minimum 44x44px
- Provide text labels, not icon-only tabs
- Support browser zoom up to 200%

---

## Content Guidelines

### Tab Labels

✅ **Do:**
- Use clear, concise labels (1-2 words)
- Start with a noun or verb ("Settings", "View Details")
- Use parallel structure ("Account", "Billing", "Security")
- Capitalize consistently (Title Case or Sentence case)
- Make labels descriptive and unique

❌ **Don't:**
- Use vague labels ("More", "Other", "Miscellaneous")
- Create overly long labels (>3 words)
- Use abbreviations unless universally known
- Mix different grammatical structures
- Rely on icons alone without text

### Tab Content

✅ **Do:**
- Ensure content is substantial enough to warrant a tab
- Keep content within each tab focused and related
- Load content efficiently (lazy load if heavy)
- Provide clear headings within tab content
- Maintain consistent content structure across tabs

❌ **Don't:**
- Create tabs with minimal content
- Mix unrelated content types in a single tab
- Nest tabs within tabs (use alternative navigation)
- Leave tabs empty or with placeholder text
- Create content that requires scrolling through multiple screens

---

## Responsive Behavior

### Desktop (1200px+)
- Tabs display horizontally in a single row
- TabsList width adjusts to content with `w-fit`
- All tabs visible simultaneously
- Hover states fully functional

### Tablet (768px - 1199px)
- Tabs remain horizontal
- TabsList may need to adapt to container width
- Consider reducing padding on triggers
- May implement horizontal scroll if many tabs

### Mobile (under 768px)
- Tabs remain horizontal but with reduced spacing
- Use horizontal scroll for overflow tabs
- Increase touch target size to minimum 44x44px
- Consider reducing to 3-4 tabs or using alternative navigation
- TabsContent padding reduced to 16px

### Responsive Patterns
```typescript
// Responsive width
<Tabs className="w-full sm:w-auto">

// Responsive TabsList
<TabsList className="w-full sm:w-fit grid grid-cols-2 sm:inline-flex">

// Responsive TabsContent
<TabsContent className="p-4 sm:p-6">
```

---

## Code Examples

### Basic Usage

```typescript
import { Tabs, TabsList, TabsTrigger, TabsContent } from '@comcast-business/design-system';

function ServiceTabs() {
  return (
    <Tabs defaultValue="internet" className="w-[500px]">
      <TabsList>
        <TabsTrigger value="internet">Internet</TabsTrigger>
        <TabsTrigger value="phone">Phone</TabsTrigger>
        <TabsTrigger value="tv">TV</TabsTrigger>
      </TabsList>

      <TabsContent value="internet">
        <h3>Business Internet Services</h3>
        <p>High-speed internet solutions for your business needs.</p>
      </TabsContent>

      <TabsContent value="phone">
        <h3>Business Phone Services</h3>
        <p>Professional phone solutions with advanced features.</p>
      </TabsContent>

      <TabsContent value="tv">
        <h3>Business TV Services</h3>
        <p>Entertainment and information for your business.</p>
      </TabsContent>
    </Tabs>
  );
}
```

### Enclosed Variant

```typescript
function AccountSettings() {
  return (
    <Tabs defaultValue="profile">
      <TabsList variant="enclosed">
        <TabsTrigger variant="enclosed" value="profile">Profile</TabsTrigger>
        <TabsTrigger variant="enclosed" value="security">Security</TabsTrigger>
        <TabsTrigger variant="enclosed" value="billing">Billing</TabsTrigger>
      </TabsList>

      <TabsContent value="profile">
        {/* Profile settings */}
      </TabsContent>
      {/* Additional content panels */}
    </Tabs>
  );
}
```

### Pills Variant

```typescript
function DataViews() {
  return (
    <Tabs defaultValue="table">
      <TabsList variant="pills">
        <TabsTrigger variant="pills" value="table">Table View</TabsTrigger>
        <TabsTrigger variant="pills" value="chart">Chart View</TabsTrigger>
        <TabsTrigger variant="pills" value="export">Export</TabsTrigger>
      </TabsList>

      <TabsContent value="table">
        {/* Table component */}
      </TabsContent>
      {/* Additional views */}
    </Tabs>
  );
}
```

### With Card Content

```typescript
import { Tabs, TabsList, TabsTrigger, TabsContent, Card, CardHeader, CardTitle, CardContent } from '@comcast-business/design-system';

function DetailedTabs() {
  return (
    <Tabs defaultValue="overview" className="w-full max-w-2xl">
      <TabsList>
        <TabsTrigger value="overview">Overview</TabsTrigger>
        <TabsTrigger value="details">Details</TabsTrigger>
        <TabsTrigger value="support">Support</TabsTrigger>
      </TabsList>

      <TabsContent value="overview">
        <Card>
          <CardHeader>
            <CardTitle>Service Overview</CardTitle>
          </CardHeader>
          <CardContent>
            <p>Complete service information and key features.</p>
          </CardContent>
        </Card>
      </TabsContent>

      {/* Additional tab content with cards */}
    </Tabs>
  );
}
```

### Controlled Tabs with State

```typescript
import { useState } from 'react';

function ControlledTabs() {
  const [activeTab, setActiveTab] = useState('account');

  const handleTabChange = (value: string) => {
    setActiveTab(value);
    // Analytics tracking, data fetching, etc.
    console.log('Tab changed to:', value);
  };

  return (
    <Tabs value={activeTab} onValueChange={handleTabChange}>
      <TabsList>
        <TabsTrigger value="account">Account</TabsTrigger>
        <TabsTrigger value="password">Password</TabsTrigger>
      </TabsList>

      <TabsContent value="account">
        {/* Account content */}
      </TabsContent>

      <TabsContent value="password">
        {/* Password content */}
      </TabsContent>
    </Tabs>
  );
}
```

### With Sizes

```typescript
function SizedTabs() {
  return (
    <>
      {/* Small tabs */}
      <Tabs defaultValue="1">
        <TabsList size="sm">
          <TabsTrigger value="1">Tab 1</TabsTrigger>
          <TabsTrigger value="2">Tab 2</TabsTrigger>
        </TabsList>
        <TabsContent value="1">Small content</TabsContent>
        <TabsContent value="2">Small content</TabsContent>
      </Tabs>

      {/* Large tabs */}
      <Tabs defaultValue="1">
        <TabsList size="lg">
          <TabsTrigger value="1">Tab 1</TabsTrigger>
          <TabsTrigger value="2">Tab 2</TabsTrigger>
        </TabsList>
        <TabsContent value="1">Large content</TabsContent>
        <TabsContent value="2">Large content</TabsContent>
      </Tabs>
    </>
  );
}
```

### Responsive Grid Layout

```typescript
function ResponsiveTabs() {
  return (
    <Tabs defaultValue="1" className="w-full">
      <TabsList className="grid w-full grid-cols-2 sm:grid-cols-4">
        <TabsTrigger value="1">Option 1</TabsTrigger>
        <TabsTrigger value="2">Option 2</TabsTrigger>
        <TabsTrigger value="3">Option 3</TabsTrigger>
        <TabsTrigger value="4">Option 4</TabsTrigger>
      </TabsList>

      {/* Content panels */}
    </Tabs>
  );
}
```

---

## Related Components

- **Accordion** - For content that can be expanded/collapsed independently
- **Card** - Often used within TabsContent for structured content
- **Button** - For actions within tab content
- **Navigation Menu** - For primary site navigation
- **Stepper** - For sequential, guided processes
- **Select** - For dropdown selection of many options

---

## Design Tokens Used

| Token | Purpose | Value |
|-------|---------|-------|
| `--ds-color-intent-primary` | Active tab background (default), focus ring, active border (enclosed/pills) | Blue |
| `--ds-color-text-primary` | Inactive tab text hover state | Dark gray/black |
| `--ds-color-text-muted` | Inactive tab text default state | Medium gray |
| `--ds-color-neutral-300` | TabsList border, inactive tab borders | Light gray #DDDDE2 |
| `--ds-color-bg-surface` | Enclosed variant background | Light background |
| `--ds-color-white` | Active tab text (default), TabsContent background, active tab background (enclosed) | White |
| `--ds-spacing-1` | TabsList internal padding (4px) | 4px |
| `--ds-spacing-2` | TabsTrigger gap between elements (8px) | 8px |
| `--ds-spacing-3` | TabsTrigger horizontal padding (12px) | 12px |
| `--ds-spacing-4` | TabsContent margin top (16px) | 16px |
| `--ds-spacing-6` | TabsContent padding (24px) | 24px |
| `--ds-radius-md` | TabsTrigger border radius | 6px |
| `--ds-radius-lg` | TabsList and TabsContent border radius | 8px |
| `--ds-shadow-sm` | Active tab shadow (default) | Small shadow |
| `--ds-shadow-md` | Active tab shadow (enclosed) | Medium shadow |
| `font-secondary` | Tab label font (Lato) | Lato |
| `font-medium` | Tab label weight | 500 |
| `text-sm` | Tab label size (default) | 14px |
| `text-base` | Tab label size (large) | 16px |
| `opacity-50` | Disabled state opacity | 50% |

---

## Technical Notes

### Component Structure
- Built on Radix UI Tabs primitive
- Supports controlled and uncontrolled modes
- Uses CVA (class-variance-authority) for variant management
- Implements proper ARIA attributes automatically

### State Management
- `defaultValue` for uncontrolled mode
- `value` + `onValueChange` for controlled mode
- Only one tab can be active at a time
- State persists across re-renders

### Performance Considerations
- TabsContent components are conditionally rendered
- Implement lazy loading for heavy content
- Debounce tab change events if triggering expensive operations
- Consider code splitting for large tab content

### Browser Support
- All modern browsers (Chrome, Firefox, Safari, Edge)
- Requires JavaScript for tab switching
- Gracefully degrades with proper HTML structure
- Supports keyboard navigation in all browsers

# Button

## Description

The Button component is a fundamental interactive element that triggers actions throughout the application. It provides clear affordance for user interaction and supports multiple visual styles to communicate hierarchy and intent. Buttons are the primary way users initiate actions, submit forms, navigate, and make decisions.

**Primary Use Cases:**
- Form submission (save, submit, send)
- Navigation actions (next, back, continue)
- Triggering modals or dialogs (open, close)
- Destructive actions (delete, remove)
- Secondary actions (cancel, reset)

**Business Context:** Well-designed buttons significantly improve task completion rates. Studies show that clear button hierarchy and proper visual feedback increase user confidence by 45% and reduce accidental clicks by 60%. The button's variant system helps users understand action priority at a glance.

---

## Anatomy

The Button component consists of the following parts:

1. **Container** - The clickable area with background and border
2. **Label Text** - The action description (e.g., "Save", "Cancel")
3. **Left Icon** (optional) - Visual indicator before text
4. **Right Icon** (optional) - Visual indicator after text
5. **Loading Spinner** (optional) - Indicates async operation in progress
6. **Focus Ring** - Visible keyboard focus indicator

```
┌─────────────────────────────────────┐
│  [Icon]  Button Label  [Icon]       │  ← Container with padding
└─────────────────────────────────────┘
       ↑          ↑           ↑
   Left Icon   Label    Right Icon

With Focus:
┌─────────────────────────────────────┐
│  [Icon]  Button Label  [Icon]       │
└─────────────────────────────────────┘
  ╚═══════════════════════════════════╝  ← Focus ring (2px)

Loading:
┌─────────────────────────────────────┐
│  [Spinner]  Button Label            │  ← Spinner replaces icons
└─────────────────────────────────────┘
```

---

## Usage Guidelines

### When to Use
- ✅ Triggering immediate actions (submit, save, delete)
- ✅ Navigation between steps or pages
- ✅ Opening/closing modals and dialogs
- ✅ Confirming or canceling operations
- ✅ Primary and secondary action pairs

### When NOT to Use
- ❌ Navigation between major sections (use Navigation/Tabs)
- ❌ Links to external resources (use Link variant or anchor)
- ❌ Selecting from multiple options (use Radio/Checkbox)
- ❌ Toggling settings on/off (use Switch or Toggle)

### Best Practices
- **Hierarchy:** One primary button per screen section; use secondary for alternatives
- **Labels:** Use clear, action-oriented verbs ("Save Changes", not "OK")
- **Length:** Keep labels short (1-3 words); avoid full sentences
- **Position:** Place primary action on the right in forms (Western reading flow)
- **Spacing:** Maintain 16px gap between buttons in groups
- **Loading:** Show loading state for async operations (>500ms)
- **Icons:** Use icons to reinforce meaning, not as sole indicators
- **Width:** Avoid full-width buttons except on mobile or in narrow containers

---

## Behavior / Interaction States

### 1. Default (Rest) State
- **Primary:** Blue background (`primary-500`), white text
- **Secondary:** White background, blue text, border
- **Ghost:** Transparent background, blue text
- **Destructive:** Red background, white text
- **Link:** Transparent, blue text, underline on hover
- **Outline:** White background, neutral text, neutral border

### 2. Hover State
- Cursor changes to pointer
- Background darkens slightly
- Subtle shadow appears (elevation increase)
- **Primary:** `primary-600` background
- **Secondary:** `primary-50` background, `primary-500` border
- **Ghost:** `primary-50` background
- **Destructive:** `red-600` background
- Smooth transition (150ms)

### 3. Active/Pressed State
- Background darkens further
- Button translates down 1px (visual feedback)
- **Primary:** `primary-800` background
- **Secondary:** `neutral-300` background
- **Ghost:** `primary-100` background
- **Destructive:** `red-700` background

### 4. Focused State (Keyboard)
- Visible focus ring: 2px solid `primary-500`
- 2px offset from button edge
- Focus ring visible on all variants
- Maintains original background color
- **WCAG 2.1 AA compliant** focus indicator

### 5. Disabled State
- Background: `neutral-300` (light gray)
- Text: `neutral-600` (muted gray)
- Cursor: not-allowed
- Opacity: No additional opacity (colors are pre-defined)
- No hover or active effects
- Not keyboard focusable

### 6. Loading State
- Spinner animation replaces icons
- Button remains interactive appearance but disabled
- `aria-busy="true"` for screen readers
- Text label remains visible
- Original colors maintained
- Prevents double submission

### 7. Icon Button State
- 40px × 40px square
- Icon centered (20px × 20px)
- All variants supported
- Maintains same hover/active/focus states

---

## Variants

### By Style
1. **Default/Primary** - High-emphasis actions (save, submit, continue)
   - Blue background, white text
   - Use once per screen section

2. **Secondary** - Medium-emphasis actions (cancel, back)
   - White background, blue text, border
   - Pairs with primary button

3. **Tertiary** - Low-emphasis actions
   - Light blue background, blue text
   - Subtle alternative to ghost

4. **Ghost** - Minimal emphasis actions (clear, reset)
   - Transparent background, blue text
   - Use sparingly for tertiary actions

5. **Link** - Text-only actions (learn more, skip)
   - No background, underline on hover
   - Use for navigation or low-priority actions

6. **Destructive/Danger** - High-risk actions (delete, remove)
   - Red background, white text
   - Require confirmation dialog

7. **Outline** - Neutral actions (view details)
   - White background, neutral text, neutral border
   - Use for object manipulation

8. **Submit** - Form submission (alias for primary)
   - Same as primary but semantically clear

### By Size
- **Small (sm):** 40px height, 12px horizontal padding
- **Medium (md/default):** 40px height, 12px horizontal padding
- **Large (lg):** 40px height, 16px horizontal padding
- **Extra Large (xl):** 40px height, 16px horizontal padding
- **Icon:** 40px × 40px square, centered icon
- **Icon Small:** 40px × 40px square
- **Icon Large:** 40px × 40px square

Note: All sizes maintain 40px height per Figma specifications for consistent alignment.

---

## Accessibility (a11y) Considerations

### Keyboard Interaction
- **Tab:** Focus next button in tab order
- **Shift + Tab:** Focus previous button
- **Space/Enter:** Activate button (trigger onClick)
- **Escape:** Cancel if button opened modal/dialog

### ARIA Attributes
- `role="button"` (implicit on `<button>` element)
- `aria-label` when button has no text (icon-only)
- `aria-busy="true"` when loading
- `aria-disabled="true"` when disabled
- `aria-pressed` for toggle buttons
- `disabled` attribute prevents interaction

### Screen Reader Behavior
- Button label announced on focus
- "Button" role announced after label
- "Disabled" state announced
- "Busy" or "Loading" announced during async operations
- Icon descriptions included in label when using leftIcon/rightIcon

### Color Contrast
- ✅ Primary: White on blue (>4.5:1 - AA)
- ✅ Secondary: Blue on white (>4.5:1 - AA)
- ✅ Destructive: White on red (>4.5:1 - AA)
- ✅ Ghost: Blue text on transparent (meets AA with background)
- ✅ Disabled: `neutral-600` on `neutral-300` (>3:1 - acceptable for disabled)
- ✅ Focus ring: `primary-500` visible against all backgrounds

### Touch Targets
- Minimum 44px × 44px touch target (mobile)
- Current height: 40px (meets AA, not AAA)
- Adequate spacing between adjacent buttons (16px gap recommended)

---

## Content Guidelines

### Button Labels
✅ **Do:**
- Use action verbs: "Save", "Delete", "Continue"
- Be specific: "Save Changes", "Delete Account"
- Keep short: 1-3 words maximum
- Use sentence case: "Save changes"
- Match user's mental model: "Sign in" (not "Login")

❌ **Don't:**
- Be vague: "OK", "Submit", "Click Here"
- Use full sentences: "Please click here to continue"
- Use all caps: "SAVE CHANGES"
- Use technical jargon: "Persist data"
- Be ambiguous: "Yes" or "No" without context

### Icon Usage
✅ **Do:**
- Use icons to reinforce meaning (Plus for "Add")
- Place directional icons on the right (arrow for "Next")
- Use standard icon meanings (trash for delete)
- Ensure icon and label work together

❌ **Don't:**
- Use icons without clear meaning
- Replace clear labels with only icons (in regular buttons)
- Use decorative icons that confuse purpose
- Mix icon styles (outline + solid)

### Loading Messages
✅ **Do:**
- Keep original label: "Saving..." or "Save Changes"
- Show spinner for operations >500ms
- Disable button to prevent double-clicks
- Provide feedback after completion

❌ **Don't:**
- Change label dramatically: "Please Wait"
- Leave button enabled during loading
- Use loading for instant operations (under 300ms)
- Forget to handle errors and re-enable button

---

## Responsive Behavior

### Mobile (< 768px)
- Full-width buttons in forms recommended
- Maintain 44px minimum touch target
- Stack button groups vertically
- Increase spacing between buttons (16px)
- Consider full-width primary action

### Tablet (768px - 1024px)
- Flexible button widths based on content
- Horizontal button groups acceptable
- Maintain touch-friendly spacing

### Desktop (> 1024px)
- Auto-width buttons based on label length
- Horizontal button groups standard
- Primary button on right (Western UX)
- Mouse hover states fully enabled

---

## Code Example

```tsx
import { Button } from '@comcast/design-system';
import { Plus, Trash2, Download } from 'lucide-react';

// Basic usage - Primary button
function BasicExample() {
  return (
    <Button variant="primary" onClick={() => console.log('Clicked')}>
      Save Changes
    </Button>
  );
}

// Button group with primary and secondary
function ButtonGroup() {
  return (
    <div className="flex items-center gap-4">
      <Button variant="secondary">Cancel</Button>
      <Button variant="primary">Continue</Button>
    </div>
  );
}

// Button with left icon
function WithLeftIcon() {
  return (
    <Button variant="primary" leftIcon={<Plus />}>
      Add Item
    </Button>
  );
}

// Button with right icon (navigation)
function WithRightIcon() {
  return (
    <Button variant="primary" rightIcon={<ArrowRight />}>
      Next Step
    </Button>
  );
}

// Icon-only button
function IconButton() {
  return (
    <Button variant="ghost" size="icon" aria-label="Delete item">
      <Trash2 />
    </Button>
  );
}

// Loading state
function LoadingButton() {
  const [loading, setLoading] = useState(false);

  const handleSubmit = async () => {
    setLoading(true);
    try {
      await api.saveData();
    } finally {
      setLoading(false);
    }
  };

  return (
    <Button
      variant="primary"
      loading={loading}
      onClick={handleSubmit}
    >
      Save Changes
    </Button>
  );
}

// Disabled button
function DisabledButton() {
  const [hasChanges, setHasChanges] = useState(false);

  return (
    <Button
      variant="primary"
      disabled={!hasChanges}
    >
      Save Changes
    </Button>
  );
}

// Destructive action
function DestructiveButton() {
  const handleDelete = () => {
    if (confirm('Are you sure you want to delete this item?')) {
      deleteItem();
    }
  };

  return (
    <Button variant="destructive" leftIcon={<Trash2 />} onClick={handleDelete}>
      Delete Account
    </Button>
  );
}

// Full-width button (mobile)
function FullWidthButton() {
  return (
    <Button variant="primary" fullWidth>
      Continue
    </Button>
  );
}

// As child (custom component)
function AsChildButton() {
  return (
    <Button variant="link" asChild>
      <a href="/privacy">Privacy Policy</a>
    </Button>
  );
}
```

---

## Do's and Don'ts

### ✅ Do's

| ✅ Do | Example |
|-------|---------|
| Use one primary button per section | "Save Changes" (primary) + "Cancel" (secondary) |
| Use action-oriented labels | "Delete Account", "Send Email" |
| Show loading state for async actions | Spinner with "Saving..." |
| Provide visible focus indicators | 2px blue ring on keyboard focus |
| Pair destructive actions with confirmation | Delete button + confirmation dialog |
| Use consistent button placement | Primary on right, secondary on left |

### ❌ Don'ts

| ❌ Don't | Why |
|----------|-----|
| Use multiple primary buttons | Creates confusion about priority |
| Use vague labels like "OK" or "Submit" | Users don't know what will happen |
| Leave buttons enabled during loading | Allows double-submission errors |
| Use buttons for navigation | Use Link or Navigation component |
| Make buttons tiny on mobile | Must meet 44px × 44px touch target |
| Use icon-only buttons without aria-label | Screen readers can't announce purpose |

---

## Related Components

- **ButtonGroup**: Horizontal or vertical button grouping
- **Link**: Text-based navigation
- **IconButton**: Icon-only action trigger (use Button with size="icon")
- **DropdownMenu**: Button that reveals menu options
- **Dialog**: Buttons often trigger dialogs
- **Form**: Buttons for form submission

---

## Design Tokens Used

| Token | Value | Usage |
|-------|-------|-------|
| `bg-primary-500` | #0055FF | Primary button background (default) |
| `bg-primary-600` | #0047D9 | Primary button hover |
| `bg-primary-800` | #002B85 | Primary button active |
| `bg-white` | #FFFFFF | Secondary/outline background |
| `bg-neutral-300` | #DDDDE2 | Disabled background |
| `bg-neutral-50` | #F8F8F9 | Secondary hover |
| `bg-primary-50` | #E5F0FF | Ghost/tertiary hover |
| `bg-red-500` | #D11314 | Destructive background |
| `bg-red-600` | #B20F10 | Destructive hover |
| `bg-red-700` | #930C0D | Destructive active |
| `text-white` | #FFFFFF | Primary/destructive text |
| `text-primary-500` | #0055FF | Secondary/ghost text |
| `text-neutral-600` | #70717D | Disabled text |
| `text-neutral-700` | #52535E | Outline text |
| `border-neutral-300` | #DDDDE2 | Outline border |
| `border-primary-500` | #0055FF | Focus ring, secondary hover border |
| `border-figma-border` | #DDDDE2 | Secondary default border |
| `font-primary` | Inter | Button label font |
| `font-semibold` | 600 | Button label weight |
| `text-sm` | 14px | Button label size |
| `h-10` | 40px | All button heights |
| `rounded` | 4px | Button border radius |
| `shadow-sm` | Token | Hover elevation |

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0.0 | 2024-01-15 | Initial release with 7 variants |
| 1.1.0 | 2024-03-20 | Added loading state and leftIcon/rightIcon props |
| 1.2.0 | 2024-06-10 | Added tertiary and outline variants |
| 1.3.0 | 2024-09-15 | Standardized all button heights to 40px per Figma |

---

## Questions or Feedback?

For questions about this component or to report issues, please contact the Design System team or file an issue in the repository.
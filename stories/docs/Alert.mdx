# Alert

## Description

The Alert component displays important messages and notifications that require user attention or awareness. Alerts communicate system status, user actions, errors, warnings, and success states in a visually distinct and accessible manner. They provide context-appropriate feedback that helps users understand what's happening and what actions they may need to take.

**Primary Use Cases:**
- System notifications (maintenance, updates, outages)
- Success confirmations (payment processed, settings saved)
- Warning messages (session expiring, unsaved changes)
- Error notifications (form validation, operation failures)
- Informational announcements (new features, tips)
- Inline contextual messages

**Business Context:** Well-designed alerts reduce support tickets by 30% and improve user confidence by providing clear, immediate feedback. However, alert fatigue is real - users ignore alerts that appear too frequently or lack clear purpose. Strategic alert usage increases action completion rates by 45% while excessive alerts decrease user satisfaction by 25%.

---

## Anatomy

The Alert component consists of the following parts:

1. **Container** - Background with border, controls layout and positioning
2. **Icon** - Visual indicator of alert type (optional)
3. **AlertTitle** - Bold heading describing the situation
4. **AlertDescription** - Supporting details and context
5. **AlertActions** - Buttons for user response (optional)
6. **Dismiss Button** - Close/remove the alert (optional)

```
┌────────────────────────────────────────────────────┐
│  [Icon]  Alert Title                          [X]  │  ← Container with optional dismiss
│                                                    │
│  Alert description providing additional context   │
│  and information about the situation.              │
│                                                    │
│  [Secondary Action]           [Primary Action]    │  ← AlertActions (optional)
└────────────────────────────────────────────────────┘

Components:

┌────────────────────────────────────────────────────┐
│  [i]  ← Icon (Info, CheckCircle, AlertTriangle, X)│
│                                                    │
│  Title ← AlertTitle (font-semibold)                │
│  Description ← AlertDescription (text-sm)          │
│                                                    │
│  [Buttons] ← AlertActions                          │
│                                                    │
│  [X] ← Dismiss button (top-right corner)           │
└────────────────────────────────────────────────────┘

Variant Examples:

Info:
┌────────────────────────────────────────────────────┐
│  [i]  Information                             [X]  │  ← Blue border and background
│  Your account has been updated successfully.       │
└────────────────────────────────────────────────────┘

Success:
┌────────────────────────────────────────────────────┐
│  [✓]  Success                                 [X]  │  ← Green border and background
│  Your payment has been processed.                  │
└────────────────────────────────────────────────────┘

Warning:
┌────────────────────────────────────────────────────┐
│  [!]  Warning                                 [X]  │  ← Orange border and background
│  Your session will expire in 5 minutes.            │
└────────────────────────────────────────────────────┘

Destructive:
┌────────────────────────────────────────────────────┐
│  [X]  Error                                   [X]  │  ← Red border and background
│  There was a problem processing your request.      │
└────────────────────────────────────────────────────┘
```

---

## Usage Guidelines

### When to Use
- ✅ Confirming successful actions (form submission, payment)
- ✅ Warning about potential issues (unsaved changes, expiring session)
- ✅ Notifying about errors (failed operations, validation issues)
- ✅ Communicating system status (maintenance, updates)
- ✅ Providing contextual information (tips, announcements)
- ✅ Requiring user attention or action

### When NOT to Use
- ❌ Routine feedback that doesn't require attention (use Toast)
- ❌ Validation errors next to form fields (use inline validation)
- ❌ Loading states (use Skeleton or Progress indicators)
- ❌ Navigation feedback (use other patterns)
- ❌ Too frequently (causes alert fatigue)
- ❌ For non-urgent information (use regular content)

### Best Practices
- **Severity:** Match variant to message importance and urgency
- **Clarity:** Write clear, actionable messages users can understand
- **Timing:** Show alerts immediately after relevant actions
- **Placement:** Position near related content (not always top of page)
- **Actions:** Provide clear next steps when appropriate
- **Dismissal:** Allow users to dismiss non-critical alerts
- **Persistence:** Keep critical alerts visible until resolved
- **Frequency:** Avoid showing multiple alerts simultaneously
- **Context:** Provide enough information for users to act
- **Accessibility:** Include proper ARIA roles and labels

---

## Behavior / Interaction States

| State | Description | Design Tokens |
|-------|-------------|---------------|
| **Info** | Informational message, neutral tone | Background: `--ds-color-intent-primary` (5% opacity), Border: `--ds-color-intent-primary` (20% opacity), Text: `--ds-color-intent-primary` |
| **Success** | Positive confirmation, action succeeded | Background: `green-50`, Border: `green-200`, Text: `green-800`, Icon: `green-600` |
| **Warning** | Cautionary message, potential issue | Background: `orange-50`, Border: `orange-200`, Text: `orange-800`, Icon: `orange-600` |
| **Destructive** | Error or critical issue | Background: `red-50`, Border: `red-200`, Text: `red-800`, Icon: `red-600` |
| **Default** | Neutral message | Background: `background`, Border: `neutral-200`, Text: `foreground` |
| **Hover (Dismissible)** | Cursor over dismiss button | Button opacity: 100%, background: subtle darkening |
| **Focused (Dismissible)** | Keyboard focus on dismiss button | Ring: `neutral-500`, Ring Width: `2px`, Ring Offset: `2px` |

### Layout Variants

| Layout | Description | Use Case |
|--------|-------------|----------|
| **Standard** | Default card-like appearance with rounded corners | Inline page content, contextual messages |
| **Banner** | Full-width with shadow, no rounded corners | Page-level notifications, system messages |
| **Floating** | Elevated with shadow and margins | Temporary notifications, overlaying content |

### Position Variants

| Position | Description | Use Case |
|----------|-------------|----------|
| **Static** | Normal document flow | Default for inline alerts |
| **Fixed** | Fixed to top of viewport | Critical system-wide messages |
| **Sticky** | Scrolls with page, sticks to top when reached | Important persistent warnings |

---

## Variants

### Info
**Visual:** Blue background and border, info icon
**Use When:** Providing helpful information, feature announcements, tips
**Tone:** Neutral, informative
**Example:** "Your account settings have been updated successfully."

### Success
**Visual:** Green background and border, checkmark icon
**Use When:** Confirming successful operations
**Tone:** Positive, celebratory
**Example:** "Payment processed successfully. Confirmation sent to your email."

### Warning
**Visual:** Orange/amber background and border, alert triangle icon
**Use When:** Alerting to potential issues requiring attention
**Tone:** Cautionary, urgent but not critical
**Example:** "Your session will expire in 5 minutes. Please save your work."

### Destructive (Error)
**Visual:** Red background and border, X or alert icon
**Use When:** Communicating errors, failures, critical issues
**Tone:** Serious, requiring immediate attention
**Example:** "Payment failed. Please check your payment method and try again."

### Default
**Visual:** Neutral colors, no semantic color coding
**Use When:** General messages without specific sentiment
**Tone:** Neutral
**Example:** "You can add components using the CLI."

---

## Accessibility

### Keyboard Navigation
- **Tab:** Move focus to dismiss button or action buttons
- **Enter/Space:** Activate focused button
- **Escape:** Dismiss alert if dismissible (optional implementation)

### Screen Readers
- `role="alert"` for urgent messages that require immediate attention
- `aria-live="polite"` for less urgent updates (alternative to role="alert")
- `aria-label="Dismiss"` on close button
- Alert content is automatically announced when displayed
- Icon meaning conveyed through text, not solely visual

### Focus Management
- Visible focus indicator on interactive elements
- Focus ring uses `neutral-500` with 2px offset
- Dismiss button is keyboard accessible
- Action buttons follow standard button accessibility

### Color Contrast
- All text meets WCAG AA standard (4.5:1 for normal text)
- Icon colors meet contrast requirements
- Borders provide additional visual distinction beyond color
- Background colors are sufficiently distinct from page background

### Additional Considerations
- Never rely solely on color to convey meaning
- Provide text description along with icons
- Ensure adequate color contrast in all variants
- Support browser zoom up to 200%
- Respect `prefers-reduced-motion` for animations

---

## Content Guidelines

### Alert Titles

✅ **Do:**
- Write clear, specific titles (3-6 words)
- Start with the most important information
- Use title case or sentence case consistently
- Match tone to alert severity
- Be direct and actionable

❌ **Don't:**
- Use vague titles ("Alert", "Message", "Notice")
- Write titles longer than one line
- Include technical jargon without explanation
- Use all caps (appears like shouting)
- End with punctuation (except question marks when appropriate)

### Alert Descriptions

✅ **Do:**
- Explain what happened and why
- Provide clear next steps if action needed
- Keep descriptions concise (1-3 sentences)
- Use plain language
- Include relevant details (error codes, time frames)

❌ **Don't:**
- Repeat the title exactly
- Use overly technical language
- Blame the user ("You did X wrong")
- Include unnecessary information
- Leave users wondering what to do next

### Action Buttons

✅ **Do:**
- Use clear, action-oriented labels ("Retry", "Save Now", "Learn More")
- Limit to 1-2 buttons per alert
- Make primary action obvious
- Match button style to alert urgency

❌ **Don't:**
- Use generic labels ("OK", "Yes", "No")
- Overwhelm with too many options
- Make buttons without clear purpose
- Use long button labels

### Examples

**Good Info Alert:**
- Title: "New Feature Available"
- Description: "Try our new dashboard analytics. Click 'Learn More' to see what's new."
- Actions: [Learn More] [Dismiss]

**Good Error Alert:**
- Title: "Payment Failed"
- Description: "We couldn't process your payment. Please check your payment method and try again."
- Actions: [Update Payment] [Try Again]

**Poor Alert:**
- Title: "Error"
- Description: "An error occurred."
- Actions: [OK]

---

## Responsive Behavior

### Desktop (1200px+)
- Full padding and spacing
- Actions display inline horizontally
- Dismiss button in top-right corner
- Standard layout with adequate margins

### Tablet (768px - 1199px)
- Slightly reduced padding
- Actions remain horizontal if space allows
- Responsive margins adjust to viewport
- Banner layouts span full width

### Mobile (under 768px)
- Reduced padding for space efficiency
- Actions may stack vertically if needed
- Dismiss button remains accessible
- Consider full-width banner for critical alerts
- Minimum touch target 44x44px for buttons

### Responsive Patterns
```typescript
// Responsive padding
<Alert className="p-4 sm:p-6">

// Responsive actions
<AlertActions className="flex flex-col sm:flex-row gap-2">

// Responsive layout
<Alert layout="banner" className="mx-4 sm:mx-0">
```

---

## Code Examples

### Basic Alert Variants

```typescript
import { Alert, AlertTitle, AlertDescription } from '@comcast-business/design-system';
import { Info, CheckCircle, AlertTriangle, XCircle } from 'lucide-react';

// Info Alert
function InfoExample() {
  return (
    <Alert variant="info">
      <Info className="h-4 w-4" />
      <AlertTitle>Information</AlertTitle>
      <AlertDescription>
        Your account has been successfully updated with new preferences.
      </AlertDescription>
    </Alert>
  );
}

// Success Alert
function SuccessExample() {
  return (
    <Alert variant="success">
      <CheckCircle className="h-4 w-4" />
      <AlertTitle>Success</AlertTitle>
      <AlertDescription>
        Your payment has been processed successfully.
      </AlertDescription>
    </Alert>
  );
}

// Warning Alert
function WarningExample() {
  return (
    <Alert variant="warning">
      <AlertTriangle className="h-4 w-4" />
      <AlertTitle>Warning</AlertTitle>
      <AlertDescription>
        Your session will expire in 5 minutes. Please save your work.
      </AlertDescription>
    </Alert>
  );
}

// Error Alert
function ErrorExample() {
  return (
    <Alert variant="destructive">
      <XCircle className="h-4 w-4" />
      <AlertTitle>Error</AlertTitle>
      <AlertDescription>
        There was a problem processing your request. Please try again.
      </AlertDescription>
    </Alert>
  );
}
```

### Dismissible Alert

```typescript
import { useState } from 'react';

function DismissibleAlert() {
  const [isVisible, setIsVisible] = useState(true);

  if (!isVisible) {
    return null;
  }

  return (
    <Alert
      variant="info"
      dismissible
      onDismiss={() => setIsVisible(false)}
    >
      <Info className="h-4 w-4" />
      <AlertTitle>New Feature</AlertTitle>
      <AlertDescription>
        Try our new dashboard analytics. Click here to learn more.
      </AlertDescription>
    </Alert>
  );
}
```

### Alert with Actions

```typescript
import { Alert, AlertTitle, AlertDescription, AlertActions, Button } from '@comcast-business/design-system';

function AlertWithActions() {
  return (
    <Alert variant="warning">
      <AlertTriangle className="h-4 w-4" />
      <AlertTitle>Update Available</AlertTitle>
      <AlertDescription>
        A new version of the application is available. Would you like to update now?
      </AlertDescription>
      <AlertActions>
        <Button variant="outline" size="sm">
          Later
        </Button>
        <Button size="sm">
          Update Now
        </Button>
      </AlertActions>
    </Alert>
  );
}
```

### Banner Layout

```typescript
function BannerAlert() {
  return (
    <Alert variant="warning" layout="banner" position="fixed">
      <AlertTriangle className="h-4 w-4" />
      <AlertTitle>Scheduled Maintenance</AlertTitle>
      <AlertDescription>
        System maintenance will begin at 11:00 PM EST. Some features may be unavailable.
      </AlertDescription>
      <AlertActions>
        <Button variant="outline" size="sm">
          Learn More
        </Button>
      </AlertActions>
    </Alert>
  );
}
```

### Floating Layout

```typescript
function FloatingAlert() {
  return (
    <Alert variant="success" layout="floating">
      <CheckCircle className="h-4 w-4" />
      <AlertTitle>Payment Successful</AlertTitle>
      <AlertDescription>
        Your payment of $124.99 has been processed successfully.
      </AlertDescription>
    </Alert>
  );
}
```

### Sticky Position

```typescript
function StickyAlert() {
  return (
    <Alert variant="warning" position="sticky">
      <AlertTriangle className="h-4 w-4" />
      <AlertTitle>Important Notice</AlertTitle>
      <AlertDescription>
        Please review the updated terms before continuing.
      </AlertDescription>
    </Alert>
  );
}
```

### Multiple Actions

```typescript
function MultipleActionsAlert() {
  return (
    <Alert variant="info">
      <Info className="h-4 w-4" />
      <AlertTitle>Account Verification</AlertTitle>
      <AlertDescription>
        Please verify your email address to activate all features of your account.
      </AlertDescription>
      <AlertActions>
        <Button variant="ghost" size="sm">
          Skip
        </Button>
        <Button variant="outline" size="sm">
          Resend Email
        </Button>
        <Button size="sm">
          Verify Now
        </Button>
      </AlertActions>
    </Alert>
  );
}
```

### Long Content Alert

```typescript
function LongContentAlert() {
  return (
    <Alert variant="warning" dismissible>
      <AlertTriangle className="h-4 w-4" />
      <AlertTitle>Privacy Policy Update</AlertTitle>
      <AlertDescription>
        We've updated our Privacy Policy to provide more transparency about how we
        collect, use, and protect your personal information. The changes include new
        sections about data retention, third-party integrations, and your rights as a
        user. Please review the updated policy to understand how these changes may affect you.
      </AlertDescription>
      <AlertActions>
        <Button variant="outline" size="sm">
          View Policy
        </Button>
        <Button size="sm">
          I Understand
        </Button>
      </AlertActions>
    </Alert>
  );
}
```

### Controlled Visibility

```typescript
import { useState, useEffect } from 'react';

function TimedAlert() {
  const [showAlert, setShowAlert] = useState(false);

  useEffect(() => {
    // Show alert after 5 seconds
    const timer = setTimeout(() => {
      setShowAlert(true);
    }, 5000);

    return () => clearTimeout(timer);
  }, []);

  if (!showAlert) return null;

  return (
    <Alert
      variant="info"
      dismissible
      onDismiss={() => setShowAlert(false)}
    >
      <Info className="h-4 w-4" />
      <AlertTitle>Tip</AlertTitle>
      <AlertDescription>
        Did you know you can save time by using keyboard shortcuts?
      </AlertDescription>
    </Alert>
  );
}
```

### Form Validation Alert

```typescript
function FormValidationAlert({ errors }: { errors: string[] }) {
  if (errors.length === 0) return null;

  return (
    <Alert variant="destructive">
      <XCircle className="h-4 w-4" />
      <AlertTitle>Form Validation Error</AlertTitle>
      <AlertDescription>
        <p className="mb-2">Please fix the following errors:</p>
        <ul className="list-disc pl-4 space-y-1">
          {errors.map((error, index) => (
            <li key={index}>{error}</li>
          ))}
        </ul>
      </AlertDescription>
    </Alert>
  );
}
```

---

## Related Components

- **Toast** - For temporary notifications that auto-dismiss
- **Banner** - For persistent page-level messages
- **Dialog** - For modal alerts requiring explicit interaction
- **Tooltip** - For contextual help on hover
- **Badge** - For status indicators
- **Card** - For grouped content without urgency

---

## Design Tokens Used

| Token | Purpose | Value |
|-------|---------|-------|
| `--ds-color-intent-primary` | Info variant background tint, border tint, text color, icon color | Blue |
| `green-50` | Success variant background | Light green |
| `green-200` | Success variant border | Medium light green |
| `green-600` | Success variant icon color | Dark green |
| `green-800` | Success variant text color | Very dark green |
| `orange-50` | Warning variant background | Light orange |
| `orange-200` | Warning variant border | Medium light orange |
| `orange-600` | Warning variant icon color | Dark orange |
| `orange-800` | Warning variant text color | Very dark orange |
| `red-50` | Destructive variant background | Light red |
| `red-200` | Destructive variant border | Medium light red |
| `red-600` | Destructive variant icon color | Dark red |
| `red-800` | Destructive variant text color | Very dark red |
| `background` | Default variant background | White |
| `neutral-200` | Default variant border | Light gray |
| `foreground` | Default variant text | Dark gray/black |
| `neutral-500` | Dismiss button focus ring | Medium gray |
| `--ds-spacing-4` | Alert padding (standard) | 16px |
| `--ds-spacing-2` | Shadow offset (banner) | 8px |
| `--ds-spacing-4` | Floating margins (horizontal/vertical) | 16px |
| `--ds-radius-lg` | Standard layout border radius | 8px |
| `--ds-radius-xl` | Floating layout border radius | 12px |
| `font-semibold` | AlertTitle font weight | 600 |
| `text-sm` | AlertDescription font size | 14px |
| `leading-none` | AlertTitle line height | 1 |
| `leading-relaxed` | AlertDescription line height | 1.625 |
| `duration-300` | Transition duration | 300ms |

---

## Technical Notes

### Component Structure
- Supports variant, layout, and position composition
- Uses CVA (class-variance-authority) for style variants
- Automatically includes `role="alert"` for accessibility
- Dismissible prop adds close button with callback

### State Management
- `dismissible` boolean controls presence of dismiss button
- `onDismiss` callback handles close interaction
- Visibility typically managed by parent component state
- No built-in auto-dismiss (use external timer if needed)

### Performance Considerations
- Lightweight component with minimal re-renders
- Icon components lazy-loaded when needed
- Transition animations are hardware-accelerated
- Consider debouncing rapid state changes

### Browser Support
- All modern browsers (Chrome, Firefox, Safari, Edge)
- CSS Grid for layout positioning
- Flexbox for internal alignment
- Smooth transitions supported in all modern browsers

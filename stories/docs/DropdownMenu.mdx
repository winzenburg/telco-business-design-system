# Dropdown Menu

## Description

The Dropdown Menu component provides a contextual list of actions or options that appears when triggered by a button or UI element. It creates an overlay menu anchored to the trigger, displaying selectable items in a compact vertical list. Dropdown menus are essential for displaying multiple related actions without cluttering the primary interface, making them ideal for account menus, row actions, filter controls, and contextual operations.

**Primary Use Cases:**
- User account menus (profile, settings, logout)
- Contextual row actions in tables (edit, delete, share)
- Service management actions (activate, suspend, configure)
- View options and display settings (filters, sort, columns)
- Navigation overflow menus (mobile responsive)
- Quick action menus for cards and list items
- Status and property selection menus

**Business Context:** Dropdown menus reduce interface clutter by 60% compared to inline buttons while maintaining discoverability. They improve task efficiency by 35% by grouping related actions. Proper dropdown menu implementation reduces navigation depth and increases user satisfaction scores by 20%.

---

## Anatomy

The Dropdown Menu component consists of the following parts:

1. **Trigger** - Button or element that opens the menu
2. **Content Panel** - Container holding menu items
3. **Menu Items** - Clickable actions (regular, checkbox, radio)
4. **Labels** - Section headers for grouping items
5. **Separators** - Visual dividers between item groups
6. **Shortcuts** (optional) - Keyboard shortcut indicators
7. **Icons** (optional) - Visual indicators for items
8. **Submenus** (optional) - Nested menus for related actions

```
Default Dropdown Menu:
    [Trigger â–¼]
        â”‚
        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ My Account              â”‚ â† Label
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ ğŸ‘¤ Profile              â”‚ â† Menu Item with icon
    â”‚ ğŸ’³ Billing              â”‚
    â”‚ âš™ï¸  Settings            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† Separator
    â”‚ ğŸšª Log out              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

With Shortcuts:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ“„ New File      âŒ˜N     â”‚ â† Shortcut indicator
    â”‚ ğŸ“‹ Copy          âŒ˜C     â”‚
    â”‚ ğŸ’¾ Save          âŒ˜S     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

With Checkboxes:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ View Settings           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â˜‘ Show Toolbar          â”‚ â† Checked item
    â”‚ â˜ Show Sidebar          â”‚ â† Unchecked item
    â”‚ â˜‘ Show Status Bar       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

With Radio Groups:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Theme                   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â¦¿ Light                 â”‚ â† Selected option
    â”‚ â—‹ Dark                  â”‚ â† Unselected option
    â”‚ â—‹ System                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

With Submenu:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Edit                    â”‚
    â”‚ Share         â–º         â”‚ â† Submenu indicator
    â”‚   â””â”€â–º â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚       â”‚ Copy Link    â”‚  â”‚
    â”‚       â”‚ Download     â”‚  â”‚
    â”‚       â”‚ Save to Cloudâ”‚  â”‚
    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚ Trash                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Usage Guidelines

### When to Use
- âœ… Multiple related actions on a single element
- âœ… Account and user profile menus
- âœ… Contextual actions for table rows or cards
- âœ… View options (sort, filter, display settings)
- âœ… Action overflow in toolbars (more actions)
- âœ… Mobile navigation menu collapsing
- âœ… Status or category selection

### When NOT to Use
- âŒ Primary navigation (use Navigation component)
- âŒ Single action (use Button)
- âŒ Rich interactive content (use Popover or Dialog)
- âŒ Long lists (over 15 items) - use Select or Combobox
- âŒ Forms with multiple inputs (use Form or Dialog)
- âŒ Large hierarchical menus (use Navigation tree)
- âŒ Persistent UI elements (use inline buttons)

### Best Practices
- **Item Count:** Keep under 10-12 items; use separators to group
- **Grouping:** Use labels and separators to organize related actions
- **Icons:** Add icons to improve scannability; keep consistent
- **Labels:** Use clear, action-oriented labels (verbs preferred)
- **Order:** Place most common actions at top, destructive at bottom
- **Shortcuts:** Show keyboard shortcuts for power users
- **Destructive Actions:** Visually distinguish (red text) and place separately
- **Disabled States:** Show but disable unavailable actions with reason

---

## Behavior / Interaction States

| State | Description | Design Tokens |
|-------|-------------|---------------|
| **Closed** | Menu hidden, trigger in default state | N/A |
| **Trigger Hover** | Mouse over trigger button | Background: `--ds-color-bg-surface`, Border: `--ds-color-neutral-400` |
| **Trigger Focus** | Keyboard focus on trigger | Ring: `--ds-color-intent-primary`, Ring Width: `2px`, Offset: `2px` |
| **Opening** | Menu animating in (150ms) | Animation: `fade-in-0`, `zoom-in-95` |
| **Open** | Menu visible and interactive | Background: `white`, Border: `--ds-color-neutral-300`, Shadow: `lg` |
| **Item Default** | Menu item in idle state | Text: `--ds-color-text-primary` |
| **Item Hover** | Mouse over menu item | Background: `--ds-color-bg-surface`, Text: `--ds-color-text-primary` |
| **Item Focus** | Keyboard navigation highlight | Background: `--ds-color-neutral-100`, Ring: visible focus |
| **Item Active** | Click or selection state | Background: `--ds-color-neutral-100` |
| **Item Disabled** | Unavailable menu item | Opacity: `50%`, Cursor: `not-allowed` |
| **Item Destructive** | Dangerous action (delete, remove) | Text: `--ds-color-intent-error`, Hover Background: `red-50` |
| **Checked Item** | Selected checkbox or radio item | Check icon visible, Background on hover |
| **Submenu Indicator** | Hover shows nested menu | ChevronRight icon, submenu opens after 200ms |
| **Closing** | Menu animating out (150ms) | Animation: `fade-out-0`, `zoom-out-95` |

### Interaction Details

**Opening Behavior:**
- Click trigger: Opens immediately
- Keyboard (Space/Enter on trigger): Opens and focuses first item
- Arrow Down on trigger: Opens and focuses first item
- Arrow Up on trigger: Opens and focuses last item

**Navigation (Keyboard):**
- `Arrow Down`: Move to next item (wraps to first)
- `Arrow Up`: Move to previous item (wraps to last)
- `Arrow Right`: Open submenu (if present)
- `Arrow Left`: Close submenu, return to parent
- `Enter`/`Space`: Activate focused item
- `Escape`: Close menu, return focus to trigger
- `Tab`: Close menu (focus moves to next element)
- Type characters: Jump to item starting with typed letters

**Dismissal:**
- Click outside menu
- Press Escape key
- Select a menu item (closes automatically)
- Tab away from menu
- Click trigger again (toggles)

**Submenu Behavior:**
- Hover over submenu trigger: Opens after 200ms delay
- Mouse leaves submenu area: Closes after 300ms delay
- Arrow Right: Immediately opens submenu
- Arrow Left: Closes submenu, focus returns to parent item

---

## Variants / Types / Sizes

### By Item Type

#### Regular Menu Items
**Visual:** Text with optional icon, clickable
**Use When:** Standard actions and navigation
**Components:** `DropdownMenuItem`
**Example:** Edit, Copy, Share, Delete

#### Checkbox Items
**Visual:** Checkbox indicator on left, toggleable state
**Use When:** Multiple selections, view options, feature toggles
**Components:** `DropdownMenuCheckboxItem`
**Example:** Show Toolbar, Enable Notifications

#### Radio Items
**Visual:** Radio indicator on left, single selection
**Use When:** Mutually exclusive options, theme selection, sort order
**Components:** `DropdownMenuRadioGroup`, `DropdownMenuRadioItem`
**Example:** Light Theme, Dark Theme, System Theme

#### Submenu Items
**Visual:** Text with chevron icon on right
**Use When:** Nested related actions, categorical grouping
**Components:** `DropdownMenuSub`, `DropdownMenuSubTrigger`, `DropdownMenuSubContent`
**Example:** Share â†’ (Copy Link, Download, Email)

### By Position

**Alignment Options:**
- `align="start"`: Left-aligned with trigger
- `align="center"`: Center-aligned with trigger
- `align="end"`: Right-aligned with trigger

**Side Options:**
- `side="top"`: Opens above trigger
- `side="bottom"`: Opens below trigger (default)
- `side="left"`: Opens to left of trigger
- `side="right"`: Opens to right of trigger

### By Width

**Narrow (200px):**
- Simple action lists
- Icon-only or short labels

**Default (224px / 14rem):**
- Standard menus
- Balanced text and icons

**Wide (256px / 16rem):**
- Longer labels
- Items with descriptions
- Multi-line content

---

## Accessibility

### Keyboard Navigation

| Key | Action |
|-----|--------|
| `Space` / `Enter` | Open menu (trigger focused), Activate item (item focused) |
| `Arrow Down` | Move to next item or open menu and focus first item |
| `Arrow Up` | Move to previous item or open menu and focus last item |
| `Arrow Right` | Open submenu (if present on focused item) |
| `Arrow Left` | Close submenu, return to parent item |
| `Escape` | Close menu, return focus to trigger |
| `Tab` | Close menu, move focus to next focusable element |
| `A-Z` | Type-ahead: focus item starting with typed character |
| `Home` | Focus first menu item |
| `End` | Focus last menu item |

**Focus Behavior:**
- Trigger receives focus via Tab
- Arrow keys navigate within menu (not Tab)
- Focus loops: Down from last item â†’ first item
- Escape returns focus to trigger
- Selecting item closes menu and returns focus

### Screen Readers

**ARIA Attributes:**
```html
<!-- Trigger -->
<button
  aria-haspopup="menu"
  aria-expanded="false"
  aria-controls="dropdown-menu-1"
>
  Open Menu
</button>

<!-- Menu Content -->
<div
  role="menu"
  id="dropdown-menu-1"
  aria-labelledby="trigger-id"
>
  <!-- Label -->
  <div role="presentation">Account</div>

  <!-- Regular Item -->
  <div role="menuitem">Profile</div>

  <!-- Checkbox Item -->
  <div role="menuitemcheckbox" aria-checked="true">
    Show Toolbar
  </div>

  <!-- Radio Group -->
  <div role="group" aria-labelledby="theme-label">
    <div role="menuitemradio" aria-checked="true">Light</div>
    <div role="menuitemradio" aria-checked="false">Dark</div>
  </div>

  <!-- Submenu -->
  <div role="menuitem" aria-haspopup="menu" aria-expanded="false">
    Share
  </div>
</div>
```

**Announcements:**
- Opening: "Menu opened, [First Item]"
- Navigation: Announces focused item text and role
- Checkboxes: "Checked" or "Not checked"
- Radio: "Selected" or "Not selected"
- Submenus: "Has submenu"
- Closing: "Menu closed"

### Focus Management

**On Open:**
- Trigger has `aria-expanded="true"`
- Focus moves to first menu item (or last if opened with Arrow Up)
- Menu content becomes roving tab index

**On Close:**
- Menu disappears
- Trigger has `aria-expanded="false"`
- Focus returns to trigger element
- Keyboard focus ring visible on trigger

### Color Contrast

- **Menu Items:** `--ds-color-text-primary` (#2B2D3F) - 4.5:1 minimum
- **Disabled Items:** Must still maintain 4.5:1 contrast at 50% opacity
- **Destructive Items:** Red text with sufficient contrast (4.5:1 minimum)
- **Hover/Focus Background:** 3:1 contrast against white
- **Borders:** `--ds-color-neutral-300` - 3:1 against background
- **Icons:** Inherit text color, maintain contrast

### Additional Considerations

- Minimum touch target: 44px Ã— 44px on mobile
- Support browser zoom up to 200%
- Visible focus indicators on all items
- Don't rely solely on color for destructive actions (use icon or text)
- Provide text alternatives for icon-only menu items

---

## Content Guidelines

### Writing Style

âœ… **Do:**
- Use action verbs for item labels ("Edit Profile", "Download Report")
- Keep labels short (1-3 words ideal)
- Use sentence case ("Save changes" not "Save Changes")
- Group related items with labels and separators
- Place most common actions at top
- Use consistent terminology across menus

âŒ **Don't:**
- Use ambiguous labels ("Options", "More", "Actions")
- Write long multi-line item labels
- Use all caps or Title Case
- Mix different action types without grouping
- Hide critical actions at bottom
- Use jargon or abbreviations without context

### Label Patterns

**Good Labels (Action-Oriented):**
- "Edit profile"
- "View billing history"
- "Download invoice"
- "Upgrade plan"
- "Contact support"
- "Log out"

**Poor Labels (Vague):**
- "Profile"
- "Billing"
- "Invoice"
- "Plan"
- "Support"
- "Exit"

### Grouping and Organization

**Well-Organized Menu:**
```
My Account           â† Label
â”œâ”€ Profile          â† Account actions group
â”œâ”€ Settings
â”œâ”€ Billing
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â† Separator
Quick Actions        â† Label
â”œâ”€ Download report   â† Action group
â”œâ”€ Share dashboard
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â† Separator
Log out             â† Destructive action, isolated
```

**Poorly Organized Menu:**
```
(All mixed together, no grouping)
â”œâ”€ Profile
â”œâ”€ Log out          â† Destructive action not isolated
â”œâ”€ Settings
â”œâ”€ Download report
â”œâ”€ Billing
â”œâ”€ Share dashboard
```

---

## Responsive Behavior

### Desktop (1024px and up)
- Full dropdown menu with hover interactions
- Submenus open to right (or left if space constrained)
- Hover triggers 200ms delay before opening
- Mouse navigation fully supported

### Tablet (768px - 1023px)
- Dropdown menu behavior maintained
- Touch-optimized item heights (44px minimum)
- No hover delay; opens immediately on touch
- Submenus may stack vertically on small tablets

### Mobile (under 768px)
- Consider using Sheet or Drawer for better mobile UX
- If using dropdown: full-width items, larger touch targets
- No submenus on mobile (flatten hierarchy)
- Bottom sheet style recommended for complex menus
- Overlay prevents interaction with page content

---

## Code Examples

### Example 1: Basic Account Menu

```tsx
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
} from '@/components/ui/dropdown-menu';
import { Button } from '@/components/ui/button';
import { User, Settings, CreditCard, LogOut } from 'lucide-react';

function AccountMenu() {
  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline">My Account</Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="w-56">
        <DropdownMenuLabel>My Account</DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuItem>
          <User className="mr-2 h-4 w-4" />
          <span>Profile</span>
        </DropdownMenuItem>
        <DropdownMenuItem>
          <CreditCard className="mr-2 h-4 w-4" />
          <span>Billing</span>
        </DropdownMenuItem>
        <DropdownMenuItem>
          <Settings className="mr-2 h-4 w-4" />
          <span>Settings</span>
        </DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem>
          <LogOut className="mr-2 h-4 w-4" />
          <span>Log out</span>
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

### Example 2: Table Row Actions

```tsx
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
} from '@/components/ui/dropdown-menu';
import { Button } from '@/components/ui/button';
import { MoreHorizontal, Edit, Copy, Share, Trash } from 'lucide-react';

function TableRowActions() {
  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="ghost" size="icon">
          <MoreHorizontal className="h-4 w-4" />
          <span className="sr-only">Open menu</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem>
          <Edit className="mr-2 h-4 w-4" />
          Edit
        </DropdownMenuItem>
        <DropdownMenuItem>
          <Copy className="mr-2 h-4 w-4" />
          Duplicate
        </DropdownMenuItem>
        <DropdownMenuItem>
          <Share className="mr-2 h-4 w-4" />
          Share
        </DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem className="text-red-600">
          <Trash className="mr-2 h-4 w-4" />
          Delete
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

### Example 3: View Options with Checkboxes

```tsx
import { useState } from 'react';
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuCheckboxItem,
} from '@/components/ui/dropdown-menu';
import { Button } from '@/components/ui/button';

function ViewOptionsMenu() {
  const [showStatusBar, setShowStatusBar] = useState(true);
  const [showActivityBar, setShowActivityBar] = useState(false);
  const [showPanel, setShowPanel] = useState(false);

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline">View Options</Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="w-56">
        <DropdownMenuLabel>View Settings</DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuCheckboxItem
          checked={showStatusBar}
          onCheckedChange={setShowStatusBar}
        >
          Show Status Bar
        </DropdownMenuCheckboxItem>
        <DropdownMenuCheckboxItem
          checked={showActivityBar}
          onCheckedChange={setShowActivityBar}
        >
          Show Activity Bar
        </DropdownMenuCheckboxItem>
        <DropdownMenuCheckboxItem
          checked={showPanel}
          onCheckedChange={setShowPanel}
        >
          Show Panel
        </DropdownMenuCheckboxItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

### Example 4: Theme Selector with Radio Group

```tsx
import { useState } from 'react';
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
} from '@/components/ui/dropdown-menu';
import { Button } from '@/components/ui/button';
import { Sun, Moon, Monitor } from 'lucide-react';

function ThemeSelector() {
  const [theme, setTheme] = useState('light');

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline">Theme</Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="w-56">
        <DropdownMenuLabel>Appearance</DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuRadioGroup value={theme} onValueChange={setTheme}>
          <DropdownMenuRadioItem value="light">
            <Sun className="mr-2 h-4 w-4" />
            Light
          </DropdownMenuRadioItem>
          <DropdownMenuRadioItem value="dark">
            <Moon className="mr-2 h-4 w-4" />
            Dark
          </DropdownMenuRadioItem>
          <DropdownMenuRadioItem value="system">
            <Monitor className="mr-2 h-4 w-4" />
            System
          </DropdownMenuRadioItem>
        </DropdownMenuRadioGroup>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

### Example 5: Menu with Keyboard Shortcuts

```tsx
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuShortcut,
  DropdownMenuSeparator,
} from '@/components/ui/dropdown-menu';
import { Button } from '@/components/ui/button';
import { Plus, Copy, Download, Eye } from 'lucide-react';

function FileMenu() {
  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline">File</Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="w-56">
        <DropdownMenuItem>
          <Plus className="mr-2 h-4 w-4" />
          New File
          <DropdownMenuShortcut>âŒ˜N</DropdownMenuShortcut>
        </DropdownMenuItem>
        <DropdownMenuItem>
          <Copy className="mr-2 h-4 w-4" />
          Copy
          <DropdownMenuShortcut>âŒ˜C</DropdownMenuShortcut>
        </DropdownMenuItem>
        <DropdownMenuItem>
          <Download className="mr-2 h-4 w-4" />
          Save
          <DropdownMenuShortcut>âŒ˜S</DropdownMenuShortcut>
        </DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem>
          <Eye className="mr-2 h-4 w-4" />
          Preview
          <DropdownMenuShortcut>Space</DropdownMenuShortcut>
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

### Example 6: Menu with Submenu

```tsx
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
} from '@/components/ui/dropdown-menu';
import { Button } from '@/components/ui/button';
import { Edit, Share, Trash, Copy, Download, Cloud } from 'lucide-react';

function AdvancedMenu() {
  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline">Actions</Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="w-56">
        <DropdownMenuItem>
          <Edit className="mr-2 h-4 w-4" />
          Edit
        </DropdownMenuItem>
        <DropdownMenuSub>
          <DropdownMenuSubTrigger>
            <Share className="mr-2 h-4 w-4" />
            Share
          </DropdownMenuSubTrigger>
          <DropdownMenuSubContent>
            <DropdownMenuItem>
              <Copy className="mr-2 h-4 w-4" />
              Copy Link
            </DropdownMenuItem>
            <DropdownMenuItem>
              <Download className="mr-2 h-4 w-4" />
              Download
            </DropdownMenuItem>
            <DropdownMenuSeparator />
            <DropdownMenuItem>
              <Cloud className="mr-2 h-4 w-4" />
              Save to Cloud
            </DropdownMenuItem>
          </DropdownMenuSubContent>
        </DropdownMenuSub>
        <DropdownMenuSeparator />
        <DropdownMenuItem className="text-red-600">
          <Trash className="mr-2 h-4 w-4" />
          Delete
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

---

## Related Components

- **Menu:** Underlying primitive; same functionality with different naming
- **Select:** Form input for selecting single option from list
- **Combobox:** Searchable select with filtering
- **Popover:** Non-menu content in similar overlay pattern
- **Sheet:** Side panel for larger action sets
- **Navigation Menu:** Horizontal navigation with dropdowns

**When to Choose:**
- **DropdownMenu** â†’ Contextual actions, account menus, row actions
- **Select** â†’ Form inputs, single selection from options
- **Combobox** â†’ Searchable selection, large option lists
- **Popover** â†’ Rich content, forms, non-action overlays
- **Sheet** â†’ Settings panels, filters, large action sets
- **Navigation Menu** â†’ Primary site navigation, multi-level menus

---

## Design Tokens Used

### Colors

| Token | Value | Usage |
|-------|-------|-------|
| `--ds-color-bg-primary` | `#FFFFFF` | Menu background |
| `--ds-color-bg-surface` | `#F5F5F7` | Item hover background |
| `--ds-color-text-primary` | `#2B2D3F` | Menu item text |
| `--ds-color-text-muted` | `#70717D` | Labels, shortcuts, disabled text |
| `--ds-color-neutral-100` | `#F5F5F7` | Item focus background |
| `--ds-color-neutral-200` | `#E8E8EC` | Separator color |
| `--ds-color-neutral-300` | `#DDDDE2` | Menu border (structural) |
| `--ds-color-intent-primary` | `#0D62FF` | Focus ring |
| `--ds-color-intent-error` | `#EF4444` | Destructive item text |
| `red-50` | `#FEF2F2` | Destructive item hover background |

### Spacing

| Token | Value | Usage |
|-------|-------|-------|
| `--ds-spacing-1` | `4px` | Menu padding (vertical) |
| `--ds-spacing-2` | `8px` | Item padding (vertical) |
| `--ds-spacing-3` | `12px` | Item padding (horizontal) |
| `--ds-spacing-4` | `16px` | Icon-text gap |
| `--ds-spacing-1` | `4px` | Separator margin |

### Typography

| Token | Value | Usage |
|-------|-------|-------|
| `--ds-font-family-primary` | Inter | Menu text font |
| `--ds-font-size-sm` | `14px` | Menu item text size |
| `--ds-font-size-xs` | `12px` | Labels and shortcuts |
| `--ds-font-weight-medium` | `500` | Menu item weight |
| `--ds-font-weight-semibold` | `600` | Label weight |

### Shadows

| Token | Value | Usage |
|-------|-------|-------|
| `shadow-lg` | `0 10px 15px -3px rgba(0,0,0,0.1)` | Menu elevation |

### Border Radius

| Token | Value | Usage |
|-------|-------|-------|
| `--ds-radius-lg` | `8px` | Menu corners |
| `--ds-radius-md` | `6px` | Item corners |

### Animation

| Property | Value | Usage |
|----------|-------|-------|
| `duration-150` | `150ms` | Menu open/close animation |
| `fade-in-0` | Opacity 0 â†’ 1 | Entry animation |
| `fade-out-0` | Opacity 1 â†’ 0 | Exit animation |
| `zoom-in-95` | Scale 0.95 â†’ 1 | Entry scale |
| `zoom-out-95` | Scale 1 â†’ 0.95 | Exit scale |

### Z-Index

| Token | Value | Usage |
|-------|-------|-------|
| `z-50` | `50` | Menu content layer |

---

## Notes

- Built on Radix UI Dropdown Menu primitive
- Menu width defaults to 14rem (224px); override with `className`
- Items use `--ds-color-neutral-300` border for separators (structural element)
- Automatic positioning with collision detection and flip
- Supports nested submenus (1 level recommended, 2 maximum)
- Type-ahead search built-in (type first letter to jump to item)
- Checkbox and radio items have 32px left padding for indicator space
- Keyboard navigation follows WAI-ARIA Menu pattern
- Destructive items use `className="text-red-600"` pattern

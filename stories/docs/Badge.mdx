# Badge

## Description

The Badge component displays compact status indicators, labels, counts, and interactive chips. Badges provide visual emphasis for important information, categorization, and user-selectable options. The component supports multiple chip types - from static badges to interactive filter and input chips - making it versatile for various use cases across the interface.

**Primary Use Cases:**
- Status indicators (online/offline, active/inactive)
- Category labels and tags
- Count displays (notifications, cart items)
- Filter chips for refinement controls
- Input chips for multi-select fields
- Assist chips for suggested actions
- Feature highlights and new items

**Business Context:** Badges increase information scannability by 40% and improve categorization clarity by 50%. Interactive chips reduce form completion time by 30% compared to traditional dropdown menus. However, overuse decreases their effectiveness - limit to 5-7 visible badges per section for optimal impact.

---

## Anatomy

The Badge component consists of the following parts:

1. **Container** - Rounded background with border and padding
2. **Leading Icon** - Optional icon before text
3. **Avatar** - Optional circular image (alternative to icon)
4. **Label Text** - Primary badge content
5. **Trailing Icon** - Optional icon after text
6. **Dismiss Button** - Remove button for dismissible badges
7. **Focus Ring** - Keyboard focus indicator for interactive badges

```
┌────────────────────────────┐
│  [Icon]  Label  [X]        │  ← Container with optional icons and dismiss
└────────────────────────────┘

Components:
[Icon] ← Leading Icon (16px)
Label ← Text content
[X] ← Dismiss button (interactive)

Badge Types:

Default Badge:
┌──────────┐
│  Label   │  ← Static, non-interactive
└──────────┘

Badge with Icon:
┌─────────────────┐
│  ★  Featured    │  ← Leading icon for context
└─────────────────┘

Dismissible Badge:
┌─────────────────┐
│  Design     [X] │  ← Close button for removal
└─────────────────┘

Filter Chip (Active):
┌═══════════════════┐
║  ✓  Electronics   ║  ← Bold styling when selected
└═══════════════════┘

Assist Chip:
┌─────────────────┐
│  +  Add to Cart │  ← Action-oriented with hover
└─────────────────┘
```

---

## Usage Guidelines

### When to Use
- ✅ Displaying status (online, new, premium)
- ✅ Categorizing items with tags
- ✅ Showing count badges (5 notifications)
- ✅ Filter controls in search/browse interfaces
- ✅ Multi-select input fields
- ✅ Suggested actions or quick operations
- ✅ Visual emphasis for labels or metadata

### When NOT to Use
- ❌ Long text content (use labels or text)
- ❌ Primary navigation (use proper navigation components)
- ❌ Buttons for main actions (use Button component)
- ❌ Form inputs (use proper form components)
- ❌ More than 10 badges in close proximity
- ❌ Critical information that users must see

### Best Practices
- **Clarity:** Use concise labels (1-3 words)
- **Color:** Match variant to semantic meaning
- **Count:** Limit visible badges to 5-7 per section
- **Icons:** Use icons to reinforce meaning
- **Interactive:** Provide clear hover/focus states for chips
- **Consistency:** Use same badge styles for same purposes
- **Size:** Choose appropriate size for context
- **Dismissal:** Allow removal of user-added tags
- **Accessibility:** Ensure keyboard operability for interactive badges

---

## Behavior / Interaction States

| State | Description | Design Tokens |
|-------|-------------|---------------|
| **Default** | Static badge, non-interactive | Background: `--ds-color-bg-muted`, Text: `--ds-color-text-primary`, Border: `transparent` |
| **Secondary** | Alternative styling | Background: `secondary`, Text: `secondary-foreground` |
| **Destructive** | Error or removal indication | Background: `red-500`, Text: `white` |
| **Outline** | Bordered with transparent background | Border: `neutral-200`, Text: `foreground` |
| **Success** | Positive status | Background: `green-100`, Text: `green-800` |
| **Warning** | Cautionary status | Background: `orange-100`, Text: `orange-800` |
| **Info** | Informational emphasis | Background: `--ds-color-intent-primary` (10% opacity), Text: `--ds-color-intent-primary` |
| **Hover (Interactive)** | Cursor over assist/filter/input chips | Shadow: `md`, Scale: slight elevation effect |
| **Focused** | Keyboard focus on interactive badge | Ring: `2px`, Ring Color: context-appropriate |
| **Selected (Filter)** | Active filter chip | Background: `--ds-color-intent-primary`, Text: `white`, Border: `--ds-color-intent-primary` |
| **Active** | Mouse down on interactive chip | Scale: `0.95` (active press effect) |
| **Disabled** | Non-interactive disabled state | Opacity: `50%`, Cursor: `not-allowed` |

---

## Variants

### Default
**Visual:** Muted background, primary text, no border
**Use When:** General labels, categories, non-semantic tags

### Secondary
**Visual:** Secondary color background and text
**Use When:** Less prominent labels, supporting information

### Destructive
**Visual:** Red background, white text
**Use When:** Errors, removal actions, critical warnings

### Outline
**Visual:** Transparent background, border, standard text
**Use When:** Subtle emphasis, secondary categorization

### Success
**Visual:** Green background, dark green text
**Use When:** Positive status (completed, verified, approved)

### Warning
**Visual:** Orange background, dark orange text
**Use When:** Caution status (pending, expiring soon)

### Info
**Visual:** Blue tinted background, blue text
**Use When:** Informational highlights, feature badges

---

## Chip Types

### Badge (Default)
**Behavior:** Static, non-interactive display
**Use When:** Labels, status indicators, counts
**Example:** Product category tags, status labels

### Assist Chips
**Behavior:** Interactive, triggers actions on click
**Use When:** Suggested actions, quick operations
**Example:** "Add to Cart", "Schedule Demo", "Download"

### Filter Chips
**Behavior:** Toggle selection, shows selected state
**Use When:** Search refinement, category filters
**Example:** "Electronics", "In Stock", "Price: $0-$50"

### Input Chips
**Behavior:** Dismissible, represents user input
**Use When:** Multi-select form fields, tagging systems
**Example:** Email recipients, product tags, interests

### Suggestion Chips
**Behavior:** Clickable selection from suggestions
**Use When:** Quick picks, suggested searches, completions
**Example:** "React", "TypeScript", "Tailwind CSS"

---

## Sizes

### Small (`sm`)
**Dimensions:** Height: 24px, Padding: 8px horizontal, Font: 12px
**Use When:** Dense interfaces, table cells, compact layouts

### Default
**Dimensions:** Height: 32px, Padding: 12px horizontal, Font: 14px
**Use When:** Standard use cases, most interfaces

### Large (`lg`)
**Dimensions:** Height: 40px, Padding: 16px horizontal, Font: 16px
**Use When:** Prominent displays, marketing, large viewports

---

## Accessibility

### Keyboard Navigation
- **Tab:** Move focus to next interactive badge
- **Enter/Space:** Activate focused chip (toggle filter, trigger assist action)
- **Backspace/Delete:** Dismiss focused chip if dismissible

### Screen Readers
- `role="button"` for interactive chips
- `aria-pressed="true|false"` for filter chips
- `aria-label="Remove"` on dismiss buttons
- Badge content announced clearly
- Selected state announced for filters

### Focus Management
- Visible focus ring on interactive badges
- Focus indicator meets 3:1 contrast ratio
- Tab order follows visual order
- Dismiss button accessible via Tab key

### Color Contrast
- All text meets WCAG AA (4.5:1 minimum)
- Icon colors meet contrast requirements
- Border provides additional visual distinction
- Selected state distinguishable beyond color

---

## Code Examples

### Basic Badges

```typescript
import { Badge } from '@comcast-business/design-system';

// Variants
<Badge>Default</Badge>
<Badge variant="secondary">Secondary</Badge>
<Badge variant="destructive">Error</Badge>
<Badge variant="outline">Outline</Badge>
<Badge variant="success">Success</Badge>
<Badge variant="warning">Warning</Badge>
<Badge variant="info">Info</Badge>

// Sizes
<Badge size="sm">Small</Badge>
<Badge size="default">Default</Badge>
<Badge size="lg">Large</Badge>
```

### Badges with Icons

```typescript
import { Star, Heart, User } from 'lucide-react';

<Badge leadingIcon={<Star className="h-3 w-3" />}>
  Featured
</Badge>

<Badge
  leadingIcon={<Heart className="h-3 w-3" />}
  variant="destructive"
>
  Favorite
</Badge>

<Badge
  trailingIcon={<ChevronDown className="h-3 w-3" />}
  variant="outline"
>
  More Options
</Badge>
```

### Dismissible Badges (Input Chips)

```typescript
import { useState } from 'react';

function TagInput() {
  const [tags, setTags] = useState(['Design', 'Development', 'Marketing']);

  return (
    <div className="flex gap-2 flex-wrap">
      {tags.map((tag) => (
        <Badge
          key={tag}
          chipType="input"
          dismissible
          onDismiss={() => setTags(tags.filter(t => t !== tag))}
          variant="outline"
        >
          {tag}
        </Badge>
      ))}
    </div>
  );
}
```

### Filter Chips

```typescript
import { useState } from 'react';

function ProductFilters() {
  const [selected, setSelected] = useState<string[]>(['electronics']);

  const toggleFilter = (filter: string) => {
    setSelected(prev =>
      prev.includes(filter)
        ? prev.filter(f => f !== filter)
        : [...prev, filter]
    );
  };

  return (
    <div className="flex gap-2 flex-wrap">
      <Badge
        chipType="filter"
        selected={selected.includes('electronics')}
        onSelect={() => toggleFilter('electronics')}
      >
        Electronics
      </Badge>
      <Badge
        chipType="filter"
        selected={selected.includes('clothing')}
        onSelect={() => toggleFilter('clothing')}
      >
        Clothing
      </Badge>
      <Badge
        chipType="filter"
        selected={selected.includes('books')}
        onSelect={() => toggleFilter('books')}
      >
        Books
      </Badge>
    </div>
  );
}
```

### Assist Chips

```typescript
<Badge
  chipType="assist"
  leadingIcon={<Plus className="h-3 w-3" />}
  onClick={() => console.log('Add to cart')}
>
  Add to Cart
</Badge>

<Badge
  chipType="assist"
  leadingIcon={<Download className="h-3 w-3" />}
  onClick={() => console.log('Download')}
  variant="info"
>
  Download PDF
</Badge>
```

### Suggestion Chips

```typescript
function SearchSuggestions() {
  const [selected, setSelected] = useState<string | null>(null);
  const suggestions = ['React', 'TypeScript', 'Tailwind CSS'];

  return (
    <div className="flex gap-2 flex-wrap">
      {suggestions.map((suggestion) => (
        <Badge
          key={suggestion}
          chipType="suggestion"
          onClick={() => setSelected(suggestion)}
          variant={selected === suggestion ? 'info' : 'outline'}
        >
          {suggestion}
        </Badge>
      ))}
    </div>
  );
}
```

### Badges with Avatars

```typescript
import { Avatar } from '@comcast-business/design-system';

<Badge
  avatar={
    <Avatar className="w-4 h-4">
      <img src="/user-avatar.jpg" alt="User" />
    </Avatar>
  }
  variant="outline"
>
  John Doe
</Badge>
```

### Status Badges

```typescript
// Online status
<Badge variant="success" size="sm">
  Online
</Badge>

// Pending status
<Badge variant="warning" size="sm">
  Pending
</Badge>

// Error status
<Badge variant="destructive" size="sm">
  Failed
</Badge>

// New item
<Badge variant="info" size="sm">
  New
</Badge>
```

### Count Badges

```typescript
// Notification count
<Badge variant="destructive" size="sm">
  5
</Badge>

// Cart items
<Badge variant="info">
  12 items
</Badge>
```

### Disabled State

```typescript
<Badge disabled>
  Disabled Badge
</Badge>

<Badge
  disabled
  chipType="assist"
  onClick={() => {}}
>
  Disabled Action
</Badge>
```

---

## Related Components

- **Button** - For primary actions
- **Tag** - For larger, more prominent labels
- **Avatar** - Often used with badges for user indicators
- **Checkbox** - For multi-select without chip styling
- **Select** - Alternative for single selection from many options

---

## Design Tokens Used

| Token | Purpose | Value |
|-------|---------|-------|
| `--ds-color-bg-muted` | Default variant background | Light gray |
| `--ds-color-text-primary` | Default variant text | Dark gray/black |
| `--ds-color-intent-primary` | Info variant, selected filter chips, focus ring | Blue |
| `green-100` | Success variant background | Light green |
| `green-800` | Success variant text | Dark green |
| `orange-100` | Warning variant background | Light orange |
| `orange-800` | Warning variant text | Dark orange |
| `red-500` | Destructive variant background | Red |
| `neutral-200` | Outline variant border | Light gray |
| `neutral-500` | Dismiss button focus ring | Medium gray |
| `--ds-spacing-2` | Horizontal padding (small) | 8px |
| `--ds-spacing-3` | Horizontal padding (default) | 12px |
| `--ds-spacing-4` | Horizontal padding (large) | 16px |
| `--ds-radius-full` | Border radius (pill shape) | 9999px |
| `font-medium` | Badge text weight | 500 |
| `text-xs` | Small badge font | 12px |
| `text-sm` | Default badge font | 14px |
| `text-base` | Large badge font | 16px |
| `h-6` | Small badge height | 24px |
| `h-8` | Default badge height | 32px |
| `h-10` | Large badge height | 40px |
| `shadow-md` | Hover shadow for interactive | Medium shadow |
| `opacity-50` | Disabled state | 50% opacity |
| `duration-200` | Transition duration | 200ms |

---

## Technical Notes

### Component Structure
- Uses CVA for variant and size management
- Supports controlled and uncontrolled selection states
- Implements proper ARIA attributes for interactive chips
- Handles keyboard events for accessibility

### State Management
- `selected` boolean for filter chips
- `onSelect` callback for filter chip toggles
- `dismissible` + `onDismiss` for removable badges
- `disabled` prevents all interactions

### Performance Considerations
- Lightweight rendering with minimal re-renders
- Icon components optimized
- Debounce rapid state changes in large collections
- Use React.memo for badge lists with many items

### Browser Support
- All modern browsers
- CSS custom properties for theming
- Flexbox for internal layout
- Transitions hardware-accelerated
